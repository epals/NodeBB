{"version":3,"sources":["node_modules/quill/dist/quill.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","self","this","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","value","container_1","format_1","leaf_1","scroll_1","inline_1","block_1","embed_1","text_1","attributor_1","class_1","style_1","store_1","Registry","Parchment","Scope","create","find","query","register","Container","default","Format","Leaf","Embed","Scroll","Block","Inline","Text","Attributor","Attribute","Class","Style","Store","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","ParchmentError","_super","message","_this","Error","attributes","classes","tags","types","DATA_KEY","input","match","BlotClass","node","Node","TEXT_NODE","bubble","blot","parentNode","scope","ANY","LEVEL","BLOCK","INLINE","HTMLElement","names","getAttribute","split","tagName","TYPE","Definitions","_i","arguments","length","map","Definition","blotName","attrName","keyName","className","isArray","toUpperCase","tagNames","forEach","tag","diff","equal","extend","op","NULL_CHARACTER","String","fromCharCode","Delta","ops","insert","text","newOp","keys","push","delete","retain","index","lastOp","unshift","splice","chop","pop","filter","predicate","partition","passed","failed","target","reduce","initial","changeLength","elem","slice","start","end","Infinity","iter","iterator","hasNext","nextOp","next","compose","other","thisIter","otherIter","firstOther","peek","firstLeft","peekType","peekLength","delta","Math","min","thisOp","otherOp","rest","concat","strings","prep","join","diffResult","component","opLength","INSERT","DELETE","EQUAL","eachLine","newline","line","indexOf","transform","priority","transformPosition","offset","nextType","hasOwn","toStr","toString","gOPD","getOwnPropertyDescriptor","arr","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","key","setProperty","options","newValue","writable","getProperty","src","copy","copyIsArray","clone","deep","BlockEmbed","bubbleFormats","undefined","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_get","receiver","Function","desc","parent","getPrototypeOf","_extend","_extend2","_interopRequireDefault","_quillDelta","_quillDelta2","_parchment","_parchment2","_break","_break2","_inline","_inline2","_text","_text2","_classCallCheck","instance","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","NEWLINE_LENGTH","_Parchment$Embed","apply","attach","domNode","formats","values","format","attribute","BLOCK_ATTRIBUTE","formatAt","insertAt","def","endsWith","block","insertBefore","BLOCK_BLOT","_Parchment$Block","_this2","cache","descendants","leaf","deleteAt","lines","shift","children","tail","ref","head","remove","moveChildren","optimize","context","path","removeChild","child","force","defaultChild","allowedChildren","statics","overload","expandConfig","_typeof","Symbol","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","done","err","_editor","_editor2","_emitter3","_emitter4","_module","_module2","_selection","_selection2","_logger","_logger2","_theme","_theme2","_defineProperty","debug","Quill","limit","level","__quill","_import","imports","error","overwrite","warn","startsWith","container","html","innerHTML","trim","classList","add","addContainer","setAttribute","scrollingContainer","emitter","scroll","whitelist","editor","selection","theme","keyboard","addModule","clipboard","history","init","on","events","EDITOR_CHANGE","type","TEXT_CHANGE","toggle","isBlank","SCROLL_UPDATE","source","mutations","range","lastRange","modify","update","contents","convert","setContents","clear","placeholder","readOnly","disable","refNode","document","createElement","blur","setRange","deleteText","_this3","_overload","_overload2","enable","enabled","focus","scrollTop","scrollIntoView","_this4","sources","API","getSelection","change","formatLine","formatText","setSelection","SILENT","_this5","_overload3","_overload4","_this6","_overload5","_overload6","getBounds","bounds","containerBounds","getBoundingClientRect","bottom","top","height","left","right","width","getContents","getLength","_overload7","_overload8","getFormat","getIndex","getLeaf","getLine","getLines","Number","MAX_VALUE","getModule","getRange","getText","_overload9","_overload10","hasFocus","insertEmbed","embed","_this7","insertText","_this8","_overload11","_overload12","isEnabled","contains","off","once","pasteHTML","dangerouslyPasteHTML","removeFormat","_this9","_overload13","_overload14","_this10","deleted","applied","applyDelta","ret","_overload15","_overload16","Range","setText","USER","updateContents","_this11","DEFAULTS","strict","version","parchment","core/module","core/theme","userConfig","import","themeConfig","config","moduleNames","moduleConfig","moduleClass","toolbar","querySelector","modifier","oldDelta","shiftRange","_emitter","args","emit","_emitter2","_map","pos","_map2","_map3","max","_map4","_Parchment$Inline","compare","BLOT","isolate","wrap","selfIndex","order","otherIndex","TextBlot","_Parchment$Text","_eventemitter","_eventemitter2","EVENTS","eventName","addEventListener","_len","_key","querySelectorAll","_node$__quill$emitter","handleDOM","Emitter","_EventEmitter","listeners","log","event","_len2","_key2","_ref","handler","listenDOM","SCROLL_BEFORE_UPDATE","SCROLL_OPTIMIZE","SELECTION_CHANGE","Module","quill","levels","method","_console","console","namespace","ns","logger","bind","newLevel","pSlice","objectKeys","isArguments","deepEqual","actual","expected","opts","Date","getTime","objEquiv","isUndefinedOrNull","isBuffer","x","a","ka","kb","e","sort","attributeBit","ATTRIBUTE","item","canAdd","replace","removeAttribute","Code","_block","_block2","_Inline","CodeBlock","_Block","textContent","frag","_descendant","descendant","_descendant2","nextNewline","newlineIndex","prevNewline","isolateLength","_descendant3","_descendant4","searchIndex","reverse","lastIndexOf","appendChild","prev","unwrap","TAB","_op","_op2","_code","_code2","_cursor","_cursor2","_clone","_clone2","_deepEqual","_deepEqual2","ASCII","Editor","getDelta","consumeNextNewline","scrollLength","batchStart","normalizeDelta","_scroll$line","_scroll$line2","_line$descendant","_line$descendant2","batchEnd","lengthRemaining","lineLength","codeIndex","codeLength","leaves","_path","formatsArr","blots","combineFormats","_scroll$line3","_scroll$line4","suffixLength","suffix","cursorIndex","data","textBlot","oldValue","CONTENTS","oldText","newText","diffDelta","combined","merged","image","list","bullet","_toConsumableArray","arr2","from","Selection","composing","mouseDown","cursor","savedRange","handleComposition","handleDragging","setTimeout","native","getNativeRange","textNode","setNativeRange","ignored","_context$range","startNode","startOffset","endNode","endOffset","restore","body","_format","nativeRange","collapsed","after","_scroll$leaf","_scroll$leaf2","_leaf$position","position","_leaf$position2","createRange","setStart","_scroll$leaf3","_scroll$leaf4","_leaf$position3","_leaf$position4","setEnd","side","rect","rangeCount","getRangeAt","normalizeNative","info","normalized","normalizedToRange","activeElement","positions","indexes","_position","startContainer","endContainer","childNodes","lastChild","rangeToNative","_scroll$leaf5","_scroll$leaf6","_leaf$position5","_leaf$position6","first","last","scrollBounds","removeAllRanges","addRange","oldRange","_getRange","_getRange2","Break","insertInto","linked_list_1","shadow_1","ContainerBlot","build","makeBlot","forEachAt","criteria","_a","lengthLeft","detach","childBlot","refBlot","some","memo","targetParent","inclusive","addedNodes","removedNodes","mutation","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_FOLLOWING","nextSibling","replaceChild","FormatBlot","toLowerCase","replaceWith","replacement","wrapper","move","LeafBlot","INLINE_BLOT","lib","keepNull","Iterator","retOp","substr","_instanceof","nativeMap","Map","_","nativeSet","Set","nativePromise","Promise","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","proto","resolve","reject","then","__isArray","__isRegExp","RegExp","__getRegExpFlags","lastIndex","__isDate","allocUnsafe","keyChild","valueChild","set","entryChild","attrs","getOwnPropertySymbols","symbols","symbol","allPropertyNames","getOwnPropertyNames","propertyName","clonePrototype","__objToStr","re","flags","global","ignoreCase","multiline","_container","_container2","isLine","_Parchment$Scroll","batch","_line","_line2","_line3","_line4","_newlineIndex","observer","takeRecords","SHORTKEY","_quill","_quill2","test","navigator","platform","Keyboard","_Module","evt","binding","normalize","which","keyCode","bindings","addBinding","ENTER","shiftKey","handleEnter","metaKey","ctrlKey","altKey","userAgent","BACKSPACE","handleBackspace","handleDelete","prefix","handleDeleteRange","listen","defaultPrevented","_quill$getLine","_quill$getLine2","_quill$getLeaf","_quill$getLeaf2","leafStart","offsetStart","_ref2","leafEnd","offsetEnd","prefixText","suffixText","curContext","empty","prevented","every","preventDefault","ESCAPE","LEFT","UP","RIGHT","DOWN","bold","makeFormatHandler","italic","underline","indent","outdent","outdent backspace","indent code-block","makeCodeBlockHandler","outdent code-block","remove tab","tab","cutoff","list empty enter","checklist enter","_quill$getLine3","_quill$getLine4","header enter","_quill$getLine5","_quill$getLine6","header","list autofill","_quill$getLine7","_quill$getLine8","code exit","_quill$getLine9","_quill$getLine10","code-block","embed left","makeEmbedArrowHandler","embed left shift","embed right","embed right shift","_ref3","where","_quill$getLeaf3","_quill$getLeaf4","_quill$getLine11","_quill$getLine12","_quill$getLine13","_quill$getLine14","curFormats","prevFormats","nextLength","_quill$getLine15","_quill$getLine16","_quill$getLine17","_quill$getLine18","nextFormats","firstFormats","lastFormats","lineFormats","_quill$scroll$descend","_quill$scroll$descend2","scrollIndex","shortKey","charCodeAt","Cursor","createTextNode","_length","restoreText","_Parchment$Container","ColorStyle","ColorClass","ColorAttributor","_Parchment$Attributor","parseInt","sanitize","Link","url","_sanitize","PROTOCOL_WHITELIST","SANITIZED_URL","protocols","anchor","href","protocol","_keyboard","_keyboard2","_dropdown","_dropdown2","optionsCounter","toggleAriaAttribute","element","Picker","select","buildPicker","style","display","label","togglePicker","escape","buildItem","option","tabIndex","hasAttribute","selectItem","buildLabel","buildOptions","id","selected","close","trigger","selectedIndex","Event","dispatchEvent","createEvent","initEvent","isActive","_embed","_embed2","_scroll","_scroll2","_clipboard","_clipboard2","_history","_history2","blots/block","blots/block/embed","blots/break","blots/container","blots/cursor","blots/embed","blots/inline","blots/scroll","blots/text","modules/clipboard","modules/history","modules/keyboard","ShadowBlot","cloneNode","parentBlot","refDomNode","AttributorStore","styles","attr","ClassAttributor","matches","result","camelize","parts","part","StyleAttributor","Theme","themes","GUARD_TEXT","contentNode","childNode","leftGuard","rightGuard","prevLength","AlignStyle","AlignClass","AlignAttribute","BackgroundStyle","BackgroundClass","_color","DirectionStyle","DirectionClass","DirectionAttribute","FontClass","FontStyle","FontStyleAttributor","SizeStyle","SizeClass","align","","center","justify","background","blockquote","clean","code","color","direction","rtl","float","full","formula","1","2","+1","-1","link","ordered","check","script","sub","super","strike","video","getLastChangeIndex","History","lastRecorded","ignoreChange","userOnly","record","undo","redo","dest","stack","changeDelta","undoDelta","timestamp","now","delay","maxStack","endsWithNewlineChange","deleteLength","changeIndex","BaseTooltip","_colorPicker","_colorPicker2","_iconPicker","_iconPicker2","_picker","_picker2","_tooltip","_tooltip2","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","_Theme","listener","removeEventListener","tooltip","textbox","hide","pickers","picker","extendToolbar","buildButtons","buttons","icons","button","buildPickers","selects","fillSelect","handlers","edit","fileInput","files","reader","FileReader","onload","readAsDataURL","click","_Tooltip","boundsContainer","save","cancel","mode","preview","restoreFocus","linkRange","extractVideoUrl","defaultValue","LinkedList","append","nodes","cur","curNode","callback","curIndex","curLength","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","MAX_OPTIMIZE_ITERATIONS","ScrollBlot","MutationObserver","observe","disconnect","records","mark","markParent","remaining","previousSibling","grandChild","isEqual","obj1","obj2","prop","InlineBlot","BlockBlot","EmbedBlot","splitText","_toggle","DOMTokenList","token","searchString","subjectString","isFinite","floor","thisArg","execCommand","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","diff_main","text1","text2","cursor_pos","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","fix_cursor","fix_emoji","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_bisect_","text1_length","text2_length","max_d","ceil","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","x1","y1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","y","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_halfMatchI_","seed","j","best_common","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","prefixLength","hm1","hm2","pointer","count_delete","count_insert","text_delete","text_insert","changes","cursor_normalize_diff","current_pos","next_pos","split_pos","d_left","d_right","norm","ndiffs","cursor_pointer","d_next","merge_tuples","compact","starts_with_pair_end","str","ends_with_pair_start","fixed_diffs","left_d","right_d","shim","supportsArgumentsClass","supported","unsupported","propertyIsEnumerable","has","Events","EE","fn","EventEmitter","_events","_eventsCount","eventNames","exists","available","ee","a1","a2","a3","a4","a5","len","removeListener","removeAllListeners","addListener","setMaxListeners","prefixed","matchText","matchSpacing","matchNewline","matchBlot","matchAttributor","_extend3","_align","_background","_direction","_font","_size","DOM_KEY","CLIPBOARD_CONFIG","matchBreak","ELEMENT_NODE","matchStyles","matchIndent","matchAlias","matchIgnore","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","Clipboard","onPaste","matchers","selector","matcher","matchVisual","addMatcher","innerText","_prepareMatching","prepareMatching","_prepareMatching2","elementMatchers","textMatchers","traverse","deltaEndsWith","paste","pair","_pair","applyFormat","computeStyle","nodeType","window","getComputedStyle","endText","childrenDelta","nextElementSibling","nodeHeight","offsetHeight","parseFloat","marginTop","marginBottom","offsetTop","fontStyle","fontWeight","textIndent","whiteSpace","replacer","collapse","Bold","addControls","Toolbar","_ret","controls","addHandler","_this$quill$selection","_this$quill$selection2","_quill$selection$getR","_quill$selection$getR2","prompt","addButton","groups","group","control","addSelect","ColorPicker","_Picker","backgroundColor","colorLabel","stroke","fill","IconPicker","defaultItem","Tooltip","TEMPLATE","reference","offsetWidth","rootBounds","verticalShift","show","_base","_base2","_link","_link2","_icons","_icons2","TOOLBAR_CONFIG","SnowTheme","_BaseTheme","SnowTooltip","_BaseTooltip","_core","_core2","_indent","_blockquote","_blockquote2","_header","_header2","_list","_list2","_bold","_bold2","_italic","_italic2","_script","_script2","_strike","_strike2","_underline","_underline2","_image","_image2","_video","_video2","_formula","_formula2","_syntax","_syntax2","_toolbar","_toolbar2","_bubble","_bubble2","_snow","_snow2","attributors/attribute/direction","attributors/class/align","attributors/class/background","attributors/class/color","attributors/class/direction","attributors/class/font","attributors/class/size","attributors/style/align","attributors/style/background","attributors/style/color","attributors/style/direction","attributors/style/font","attributors/style/size","formats/align","formats/direction","formats/indent","IndentClass","formats/background","formats/color","formats/font","formats/size","formats/blockquote","formats/code-block","formats/header","formats/list","formats/bold","formats/code","formats/italic","formats/link","formats/script","formats/strike","formats/underline","formats/image","formats/video","formats/list/item","ListItem","modules/formula","modules/syntax","modules/toolbar","themes/bubble","themes/snow","ui/icons","ui/picker","ui/icon-picker","ui/color-picker","ui/tooltip","IdentAttributor","Blockquote","Header","List","_Container","listEventHandler","Italic","_Bold","Script","Strike","Underline","ATTRIBUTES","Image","Video","_BlockEmbed","FormulaBlot","_Embed","katex","render","throwOnError","errorColor","Formula","CodeToken","SyntaxCodeBlock","_CodeBlock","highlight","_highlight","cachedText","Syntax","timer","clearTimeout","interval","hljs","highlightAuto","BubbleTooltip","BubbleTheme","lastLine","_bounds","arrow","marginLeft"],"mappings":"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","file":"node_modules/quill/dist/quill.js","sourcesContent":["/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Quill\"] = factory();\n\telse\n\t\troot[\"Quill\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 109);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar format_1 = __webpack_require__(18);\nvar leaf_1 = __webpack_require__(19);\nvar scroll_1 = __webpack_require__(45);\nvar inline_1 = __webpack_require__(46);\nvar block_1 = __webpack_require__(47);\nvar embed_1 = __webpack_require__(48);\nvar text_1 = __webpack_require__(49);\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar store_1 = __webpack_require__(31);\nvar Registry = __webpack_require__(1);\nvar Parchment = {\n    Scope: Registry.Scope,\n    create: Registry.create,\n    find: Registry.find,\n    query: Registry.query,\n    register: Registry.register,\n    Container: container_1.default,\n    Format: format_1.default,\n    Leaf: leaf_1.default,\n    Embed: embed_1.default,\n    Scroll: scroll_1.default,\n    Block: block_1.default,\n    Inline: inline_1.default,\n    Text: text_1.default,\n    Attributor: {\n        Attribute: attributor_1.default,\n        Class: class_1.default,\n        Style: style_1.default,\n        Store: store_1.default,\n    },\n};\nexports.default = Parchment;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParchmentError = /** @class */ (function (_super) {\n    __extends(ParchmentError, _super);\n    function ParchmentError(message) {\n        var _this = this;\n        message = '[Parchment] ' + message;\n        _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        return _this;\n    }\n    return ParchmentError;\n}(Error));\nexports.ParchmentError = ParchmentError;\nvar attributes = {};\nvar classes = {};\nvar tags = {};\nvar types = {};\nexports.DATA_KEY = '__blot';\nvar Scope;\n(function (Scope) {\n    Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n    Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n    Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n    Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n    Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n    Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n    Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n    Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n    Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n    Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n    Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n})(Scope = exports.Scope || (exports.Scope = {}));\nfunction create(input, value) {\n    var match = query(input);\n    if (match == null) {\n        throw new ParchmentError(\"Unable to create \" + input + \" blot\");\n    }\n    var BlotClass = match;\n    var node = \n    // @ts-ignore\n    input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\n    return new BlotClass(node, value);\n}\nexports.create = create;\nfunction find(node, bubble) {\n    if (bubble === void 0) { bubble = false; }\n    if (node == null)\n        return null;\n    // @ts-ignore\n    if (node[exports.DATA_KEY] != null)\n        return node[exports.DATA_KEY].blot;\n    if (bubble)\n        return find(node.parentNode, bubble);\n    return null;\n}\nexports.find = find;\nfunction query(query, scope) {\n    if (scope === void 0) { scope = Scope.ANY; }\n    var match;\n    if (typeof query === 'string') {\n        match = types[query] || attributes[query];\n        // @ts-ignore\n    }\n    else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\n        match = types['text'];\n    }\n    else if (typeof query === 'number') {\n        if (query & Scope.LEVEL & Scope.BLOCK) {\n            match = types['block'];\n        }\n        else if (query & Scope.LEVEL & Scope.INLINE) {\n            match = types['inline'];\n        }\n    }\n    else if (query instanceof HTMLElement) {\n        var names = (query.getAttribute('class') || '').split(/\\s+/);\n        for (var i in names) {\n            match = classes[names[i]];\n            if (match)\n                break;\n        }\n        match = match || tags[query.tagName];\n    }\n    if (match == null)\n        return null;\n    // @ts-ignore\n    if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope)\n        return match;\n    return null;\n}\nexports.query = query;\nfunction register() {\n    var Definitions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        Definitions[_i] = arguments[_i];\n    }\n    if (Definitions.length > 1) {\n        return Definitions.map(function (d) {\n            return register(d);\n        });\n    }\n    var Definition = Definitions[0];\n    if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\n        throw new ParchmentError('Invalid definition');\n    }\n    else if (Definition.blotName === 'abstract') {\n        throw new ParchmentError('Cannot register abstract class');\n    }\n    types[Definition.blotName || Definition.attrName] = Definition;\n    if (typeof Definition.keyName === 'string') {\n        attributes[Definition.keyName] = Definition;\n    }\n    else {\n        if (Definition.className != null) {\n            classes[Definition.className] = Definition;\n        }\n        if (Definition.tagName != null) {\n            if (Array.isArray(Definition.tagName)) {\n                Definition.tagName = Definition.tagName.map(function (tagName) {\n                    return tagName.toUpperCase();\n                });\n            }\n            else {\n                Definition.tagName = Definition.tagName.toUpperCase();\n            }\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\n            tagNames.forEach(function (tag) {\n                if (tags[tag] == null || Definition.className == null) {\n                    tags[tag] = Definition;\n                }\n            });\n        }\n    }\n    return Definition;\n}\nexports.register = register;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar diff = __webpack_require__(51);\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\nvar op = __webpack_require__(20);\n\n\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\n\n\nvar Delta = function (ops) {\n  // Assume we are given a well formed ops\n  if (Array.isArray(ops)) {\n    this.ops = ops;\n  } else if (ops != null && Array.isArray(ops.ops)) {\n    this.ops = ops.ops;\n  } else {\n    this.ops = [];\n  }\n};\n\n\nDelta.prototype.insert = function (text, attributes) {\n  var newOp = {};\n  if (text.length === 0) return this;\n  newOp.insert = text;\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype['delete'] = function (length) {\n  if (length <= 0) return this;\n  return this.push({ 'delete': length });\n};\n\nDelta.prototype.retain = function (length, attributes) {\n  if (length <= 0) return this;\n  var newOp = { retain: length };\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype.push = function (newOp) {\n  var index = this.ops.length;\n  var lastOp = this.ops[index - 1];\n  newOp = extend(true, {}, newOp);\n  if (typeof lastOp === 'object') {\n    if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\n      return this;\n    }\n    // Since it does not matter if we insert before or after deleting at the same index,\n    // always prefer to insert first\n    if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\n      index -= 1;\n      lastOp = this.ops[index - 1];\n      if (typeof lastOp !== 'object') {\n        this.ops.unshift(newOp);\n        return this;\n      }\n    }\n    if (equal(newOp.attributes, lastOp.attributes)) {\n      if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      }\n    }\n  }\n  if (index === this.ops.length) {\n    this.ops.push(newOp);\n  } else {\n    this.ops.splice(index, 0, newOp);\n  }\n  return this;\n};\n\nDelta.prototype.chop = function () {\n  var lastOp = this.ops[this.ops.length - 1];\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\n    this.ops.pop();\n  }\n  return this;\n};\n\nDelta.prototype.filter = function (predicate) {\n  return this.ops.filter(predicate);\n};\n\nDelta.prototype.forEach = function (predicate) {\n  this.ops.forEach(predicate);\n};\n\nDelta.prototype.map = function (predicate) {\n  return this.ops.map(predicate);\n};\n\nDelta.prototype.partition = function (predicate) {\n  var passed = [], failed = [];\n  this.forEach(function(op) {\n    var target = predicate(op) ? passed : failed;\n    target.push(op);\n  });\n  return [passed, failed];\n};\n\nDelta.prototype.reduce = function (predicate, initial) {\n  return this.ops.reduce(predicate, initial);\n};\n\nDelta.prototype.changeLength = function () {\n  return this.reduce(function (length, elem) {\n    if (elem.insert) {\n      return length + op.length(elem);\n    } else if (elem.delete) {\n      return length - elem.delete;\n    }\n    return length;\n  }, 0);\n};\n\nDelta.prototype.length = function () {\n  return this.reduce(function (length, elem) {\n    return length + op.length(elem);\n  }, 0);\n};\n\nDelta.prototype.slice = function (start, end) {\n  start = start || 0;\n  if (typeof end !== 'number') end = Infinity;\n  var ops = [];\n  var iter = op.iterator(this.ops);\n  var index = 0;\n  while (index < end && iter.hasNext()) {\n    var nextOp;\n    if (index < start) {\n      nextOp = iter.next(start - index);\n    } else {\n      nextOp = iter.next(end - index);\n      ops.push(nextOp);\n    }\n    index += op.length(nextOp);\n  }\n  return new Delta(ops);\n};\n\n\nDelta.prototype.compose = function (other) {\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var ops = [];\n  var firstOther = otherIter.peek();\n  if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {\n    var firstLeft = firstOther.retain;\n    while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {\n      firstLeft -= thisIter.peekLength();\n      ops.push(thisIter.next());\n    }\n    if (firstOther.retain - firstLeft > 0) {\n      otherIter.next(firstOther.retain - firstLeft);\n    }\n  }\n  var delta = new Delta(ops);\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else if (thisIter.peekType() === 'delete') {\n      delta.push(thisIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (typeof otherOp.retain === 'number') {\n        var newOp = {};\n        if (typeof thisOp.retain === 'number') {\n          newOp.retain = length;\n        } else {\n          newOp.insert = thisOp.insert;\n        }\n        // Preserve null when composing with a retain, otherwise remove it for inserts\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n        if (attributes) newOp.attributes = attributes;\n        delta.push(newOp);\n\n        // Optimization if rest of other is just retain\n        if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {\n          var rest = new Delta(thisIter.rest());\n          return delta.concat(rest).chop();\n        }\n\n      // Other op should be delete, we could be an insert or retain\n      // Insert + delete cancels out\n      } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\n        delta.push(otherOp);\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.concat = function (other) {\n  var delta = new Delta(this.ops.slice());\n  if (other.ops.length > 0) {\n    delta.push(other.ops[0]);\n    delta.ops = delta.ops.concat(other.ops.slice(1));\n  }\n  return delta;\n};\n\nDelta.prototype.diff = function (other, index) {\n  if (this.ops === other.ops) {\n    return new Delta();\n  }\n  var strings = [this, other].map(function (delta) {\n    return delta.map(function (op) {\n      if (op.insert != null) {\n        return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n      }\n      var prep = (delta === other) ? 'on' : 'with';\n      throw new Error('diff() called ' + prep + ' non-document');\n    }).join('');\n  });\n  var delta = new Delta();\n  var diffResult = diff(strings[0], strings[1], index);\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  diffResult.forEach(function (component) {\n    var length = component[1].length;\n    while (length > 0) {\n      var opLength = 0;\n      switch (component[0]) {\n        case diff.INSERT:\n          opLength = Math.min(otherIter.peekLength(), length);\n          delta.push(otherIter.next(opLength));\n          break;\n        case diff.DELETE:\n          opLength = Math.min(length, thisIter.peekLength());\n          thisIter.next(opLength);\n          delta['delete'](opLength);\n          break;\n        case diff.EQUAL:\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n          var thisOp = thisIter.next(opLength);\n          var otherOp = otherIter.next(opLength);\n          if (equal(thisOp.insert, otherOp.insert)) {\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n          } else {\n            delta.push(otherOp)['delete'](opLength);\n          }\n          break;\n      }\n      length -= opLength;\n    }\n  });\n  return delta.chop();\n};\n\nDelta.prototype.eachLine = function (predicate, newline) {\n  newline = newline || '\\n';\n  var iter = op.iterator(this.ops);\n  var line = new Delta();\n  var i = 0;\n  while (iter.hasNext()) {\n    if (iter.peekType() !== 'insert') return;\n    var thisOp = iter.peek();\n    var start = op.length(thisOp) - iter.peekLength();\n    var index = typeof thisOp.insert === 'string' ?\n      thisOp.insert.indexOf(newline, start) - start : -1;\n    if (index < 0) {\n      line.push(iter.next());\n    } else if (index > 0) {\n      line.push(iter.next(index));\n    } else {\n      if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n        return;\n      }\n      i += 1;\n      line = new Delta();\n    }\n  }\n  if (line.length() > 0) {\n    predicate(line, {}, i);\n  }\n};\n\nDelta.prototype.transform = function (other, priority) {\n  priority = !!priority;\n  if (typeof other === 'number') {\n    return this.transformPosition(other, priority);\n  }\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n      delta.retain(op.length(thisIter.next()));\n    } else if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (thisOp['delete']) {\n        // Our delete either makes their delete redundant or removes their retain\n        continue;\n      } else if (otherOp['delete']) {\n        delta.push(otherOp);\n      } else {\n        // We retain either their retain or insert\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.transformPosition = function (index, priority) {\n  priority = !!priority;\n  var thisIter = op.iterator(this.ops);\n  var offset = 0;\n  while (thisIter.hasNext() && offset <= index) {\n    var length = thisIter.peekLength();\n    var nextType = thisIter.peekType();\n    thisIter.next();\n    if (nextType === 'delete') {\n      index -= Math.min(length, index - offset);\n      continue;\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\n      index += length;\n    }\n    offset += length;\n  }\n  return index;\n};\n\n\nmodule.exports = Delta;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NEWLINE_LENGTH = 1;\n\nvar BlockEmbed = function (_Parchment$Embed) {\n  _inherits(BlockEmbed, _Parchment$Embed);\n\n  function BlockEmbed() {\n    _classCallCheck(this, BlockEmbed);\n\n    return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\n  }\n\n  _createClass(BlockEmbed, [{\n    key: 'attach',\n    value: function attach() {\n      _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\n      this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\n    }\n  }, {\n    key: 'delta',\n    value: function delta() {\n      return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\n      if (attribute != null) {\n        this.attributes.attribute(attribute, value);\n      }\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      this.format(name, value);\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (typeof value === 'string' && value.endsWith('\\n')) {\n        var block = _parchment2.default.create(Block.blotName);\n        this.parent.insertBefore(block, index === 0 ? this : this.next);\n        block.insertAt(0, value.slice(0, -1));\n      } else {\n        _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n    }\n  }]);\n\n  return BlockEmbed;\n}(_parchment2.default.Embed);\n\nBlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\n\nvar Block = function (_Parchment$Block) {\n  _inherits(Block, _Parchment$Block);\n\n  function Block(domNode) {\n    _classCallCheck(this, Block);\n\n    var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\n\n    _this2.cache = {};\n    return _this2;\n  }\n\n  _createClass(Block, [{\n    key: 'delta',\n    value: function delta() {\n      if (this.cache.delta == null) {\n        this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\n          if (leaf.length() === 0) {\n            return delta;\n          } else {\n            return delta.insert(leaf.value(), bubbleFormats(leaf));\n          }\n        }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\n      }\n      return this.cache.delta;\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\n      this.cache = {};\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length <= 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n        if (index + length === this.length()) {\n          this.format(name, value);\n        }\n      } else {\n        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\n      if (value.length === 0) return;\n      var lines = value.split('\\n');\n      var text = lines.shift();\n      if (text.length > 0) {\n        if (index < this.length() - 1 || this.children.tail == null) {\n          _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\n        } else {\n          this.children.tail.insertAt(this.children.tail.length(), text);\n        }\n        this.cache = {};\n      }\n      var block = this;\n      lines.reduce(function (index, line) {\n        block = block.split(index, true);\n        block.insertAt(0, line);\n        return line.length;\n      }, index + text.length);\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      var head = this.children.head;\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\n      if (head instanceof _break2.default) {\n        head.remove();\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      if (this.cache.length == null) {\n        this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\n      }\n      return this.cache.length;\n    }\n  }, {\n    key: 'moveChildren',\n    value: function moveChildren(target, ref) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\n      this.cache = {};\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\n      this.cache = {};\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\n    }\n  }, {\n    key: 'removeChild',\n    value: function removeChild(child) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\n      this.cache = {};\n    }\n  }, {\n    key: 'split',\n    value: function split(index) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n        var clone = this.clone();\n        if (index === 0) {\n          this.parent.insertBefore(clone, this);\n          return this;\n        } else {\n          this.parent.insertBefore(clone, this.next);\n          return clone;\n        }\n      } else {\n        var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\n        this.cache = {};\n        return next;\n      }\n    }\n  }]);\n\n  return Block;\n}(_parchment2.default.Block);\n\nBlock.blotName = 'block';\nBlock.tagName = 'P';\nBlock.defaultChild = 'break';\nBlock.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\n\nfunction bubbleFormats(blot) {\n  var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (blot == null) return formats;\n  if (typeof blot.formats === 'function') {\n    formats = (0, _extend2.default)(formats, blot.formats());\n  }\n  if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\n    return formats;\n  }\n  return bubbleFormats(blot.parent, formats);\n}\n\nexports.bubbleFormats = bubbleFormats;\nexports.BlockEmbed = BlockEmbed;\nexports.default = Block;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.overload = exports.expandConfig = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(50);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _editor = __webpack_require__(14);\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _selection = __webpack_require__(15);\n\nvar _selection2 = _interopRequireDefault(_selection);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill');\n\nvar Quill = function () {\n  _createClass(Quill, null, [{\n    key: 'debug',\n    value: function debug(limit) {\n      if (limit === true) {\n        limit = 'log';\n      }\n      _logger2.default.level(limit);\n    }\n  }, {\n    key: 'find',\n    value: function find(node) {\n      return node.__quill || _parchment2.default.find(node);\n    }\n  }, {\n    key: 'import',\n    value: function _import(name) {\n      if (this.imports[name] == null) {\n        debug.error('Cannot import ' + name + '. Are you sure it was registered?');\n      }\n      return this.imports[name];\n    }\n  }, {\n    key: 'register',\n    value: function register(path, target) {\n      var _this = this;\n\n      var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (typeof path !== 'string') {\n        var name = path.attrName || path.blotName;\n        if (typeof name === 'string') {\n          // register(Blot | Attributor, overwrite)\n          this.register('formats/' + name, path, target);\n        } else {\n          Object.keys(path).forEach(function (key) {\n            _this.register(key, path[key], target);\n          });\n        }\n      } else {\n        if (this.imports[path] != null && !overwrite) {\n          debug.warn('Overwriting ' + path + ' with', target);\n        }\n        this.imports[path] = target;\n        if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\n          _parchment2.default.register(target);\n        } else if (path.startsWith('modules') && typeof target.register === 'function') {\n          target.register();\n        }\n      }\n    }\n  }]);\n\n  function Quill(container) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Quill);\n\n    this.options = expandConfig(container, options);\n    this.container = this.options.container;\n    if (this.container == null) {\n      return debug.error('Invalid Quill container', container);\n    }\n    if (this.options.debug) {\n      Quill.debug(this.options.debug);\n    }\n    var html = this.container.innerHTML.trim();\n    this.container.classList.add('ql-container');\n    this.container.innerHTML = '';\n    this.container.__quill = this;\n    this.root = this.addContainer('ql-editor');\n    this.root.classList.add('ql-blank');\n    this.root.setAttribute('data-gramm', false);\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\n    this.emitter = new _emitter4.default();\n    this.scroll = _parchment2.default.create(this.root, {\n      emitter: this.emitter,\n      whitelist: this.options.formats\n    });\n    this.editor = new _editor2.default(this.scroll);\n    this.selection = new _selection2.default(this.scroll, this.emitter);\n    this.theme = new this.options.theme(this, this.options);\n    this.keyboard = this.theme.addModule('keyboard');\n    this.clipboard = this.theme.addModule('clipboard');\n    this.history = this.theme.addModule('history');\n    this.theme.init();\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\n      if (type === _emitter4.default.events.TEXT_CHANGE) {\n        _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\n      var range = _this2.selection.lastRange;\n      var index = range && range.length === 0 ? range.index : undefined;\n      modify.call(_this2, function () {\n        return _this2.editor.update(null, mutations, index);\n      }, source);\n    });\n    var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\n    this.setContents(contents);\n    this.history.clear();\n    if (this.options.placeholder) {\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\n    }\n    if (this.options.readOnly) {\n      this.disable();\n    }\n  }\n\n  _createClass(Quill, [{\n    key: 'addContainer',\n    value: function addContainer(container) {\n      var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (typeof container === 'string') {\n        var className = container;\n        container = document.createElement('div');\n        container.classList.add(className);\n      }\n      this.container.insertBefore(container, refNode);\n      return container;\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this.selection.setRange(null);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length, source) {\n      var _this3 = this;\n\n      var _overload = overload(index, length, source);\n\n      var _overload2 = _slicedToArray(_overload, 4);\n\n      index = _overload2[0];\n      length = _overload2[1];\n      source = _overload2[3];\n\n      return modify.call(this, function () {\n        return _this3.editor.deleteText(index, length);\n      }, source, index, -1 * length);\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      this.enable(false);\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.scroll.enable(enabled);\n      this.container.classList.toggle('ql-disabled', !enabled);\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      var scrollTop = this.scrollingContainer.scrollTop;\n      this.selection.focus();\n      this.scrollingContainer.scrollTop = scrollTop;\n      this.scrollIntoView();\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var _this4 = this;\n\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        var range = _this4.getSelection(true);\n        var change = new _quillDelta2.default();\n        if (range == null) {\n          return change;\n        } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n          change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\n        } else if (range.length === 0) {\n          _this4.selection.format(name, value);\n          return change;\n        } else {\n          change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\n        }\n        _this4.setSelection(range, _emitter4.default.sources.SILENT);\n        return change;\n      }, source);\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length, name, value, source) {\n      var _this5 = this;\n\n      var formats = void 0;\n\n      var _overload3 = overload(index, length, name, value, source);\n\n      var _overload4 = _slicedToArray(_overload3, 4);\n\n      index = _overload4[0];\n      length = _overload4[1];\n      formats = _overload4[2];\n      source = _overload4[3];\n\n      return modify.call(this, function () {\n        return _this5.editor.formatLine(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length, name, value, source) {\n      var _this6 = this;\n\n      var formats = void 0;\n\n      var _overload5 = overload(index, length, name, value, source);\n\n      var _overload6 = _slicedToArray(_overload5, 4);\n\n      index = _overload6[0];\n      length = _overload6[1];\n      formats = _overload6[2];\n      source = _overload6[3];\n\n      return modify.call(this, function () {\n        return _this6.editor.formatText(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var bounds = void 0;\n      if (typeof index === 'number') {\n        bounds = this.selection.getBounds(index, length);\n      } else {\n        bounds = this.selection.getBounds(index.index, index.length);\n      }\n      var containerBounds = this.container.getBoundingClientRect();\n      return {\n        bottom: bounds.bottom - containerBounds.top,\n        height: bounds.height,\n        left: bounds.left - containerBounds.left,\n        right: bounds.right - containerBounds.left,\n        top: bounds.top - containerBounds.top,\n        width: bounds.width\n      };\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload7 = overload(index, length);\n\n      var _overload8 = _slicedToArray(_overload7, 2);\n\n      index = _overload8[0];\n      length = _overload8[1];\n\n      return this.editor.getContents(index, length);\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (typeof index === 'number') {\n        return this.editor.getFormat(index, length);\n      } else {\n        return this.editor.getFormat(index.index, index.length);\n      }\n    }\n  }, {\n    key: 'getIndex',\n    value: function getIndex(blot) {\n      return blot.offset(this.scroll);\n    }\n  }, {\n    key: 'getLength',\n    value: function getLength() {\n      return this.scroll.length();\n    }\n  }, {\n    key: 'getLeaf',\n    value: function getLeaf(index) {\n      return this.scroll.leaf(index);\n    }\n  }, {\n    key: 'getLine',\n    value: function getLine(index) {\n      return this.scroll.line(index);\n    }\n  }, {\n    key: 'getLines',\n    value: function getLines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      if (typeof index !== 'number') {\n        return this.scroll.lines(index.index, index.length);\n      } else {\n        return this.scroll.lines(index, length);\n      }\n    }\n  }, {\n    key: 'getModule',\n    value: function getModule(name) {\n      return this.theme.modules[name];\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (focus) this.focus();\n      this.update(); // Make sure we access getRange with editor in consistent state\n      return this.selection.getRange()[0];\n    }\n  }, {\n    key: 'getText',\n    value: function getText() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload9 = overload(index, length);\n\n      var _overload10 = _slicedToArray(_overload9, 2);\n\n      index = _overload10[0];\n      length = _overload10[1];\n\n      return this.editor.getText(index, length);\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return this.selection.hasFocus();\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      var _this7 = this;\n\n      var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\n\n      return modify.call(this, function () {\n        return _this7.editor.insertEmbed(index, embed, value);\n      }, source, index);\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text, name, value, source) {\n      var _this8 = this;\n\n      var formats = void 0;\n\n      var _overload11 = overload(index, 0, name, value, source);\n\n      var _overload12 = _slicedToArray(_overload11, 4);\n\n      index = _overload12[0];\n      formats = _overload12[2];\n      source = _overload12[3];\n\n      return modify.call(this, function () {\n        return _this8.editor.insertText(index, text, formats);\n      }, source, index, text.length);\n    }\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return !this.container.classList.contains('ql-disabled');\n    }\n  }, {\n    key: 'off',\n    value: function off() {\n      return this.emitter.off.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'on',\n    value: function on() {\n      return this.emitter.on.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'once',\n    value: function once() {\n      return this.emitter.once.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'pasteHTML',\n    value: function pasteHTML(index, html, source) {\n      this.clipboard.dangerouslyPasteHTML(index, html, source);\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length, source) {\n      var _this9 = this;\n\n      var _overload13 = overload(index, length, source);\n\n      var _overload14 = _slicedToArray(_overload13, 4);\n\n      index = _overload14[0];\n      length = _overload14[1];\n      source = _overload14[3];\n\n      return modify.call(this, function () {\n        return _this9.editor.removeFormat(index, length);\n      }, source, index);\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView() {\n      this.selection.scrollIntoView(this.scrollingContainer);\n    }\n  }, {\n    key: 'setContents',\n    value: function setContents(delta) {\n      var _this10 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        var length = _this10.getLength();\n        var deleted = _this10.editor.deleteText(0, length);\n        var applied = _this10.editor.applyDelta(delta);\n        var lastOp = applied.ops[applied.ops.length - 1];\n        if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\n          _this10.editor.deleteText(_this10.getLength() - 1, 1);\n          applied.delete(1);\n        }\n        var ret = deleted.compose(applied);\n        return ret;\n      }, source);\n    }\n  }, {\n    key: 'setSelection',\n    value: function setSelection(index, length, source) {\n      if (index == null) {\n        this.selection.setRange(null, length || Quill.sources.API);\n      } else {\n        var _overload15 = overload(index, length, source);\n\n        var _overload16 = _slicedToArray(_overload15, 4);\n\n        index = _overload16[0];\n        length = _overload16[1];\n        source = _overload16[3];\n\n        this.selection.setRange(new _selection.Range(index, length), source);\n        if (source !== _emitter4.default.sources.SILENT) {\n          this.selection.scrollIntoView(this.scrollingContainer);\n        }\n      }\n    }\n  }, {\n    key: 'setText',\n    value: function setText(text) {\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      var delta = new _quillDelta2.default().insert(text);\n      return this.setContents(delta, source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n      this.selection.update(source);\n      return change;\n    }\n  }, {\n    key: 'updateContents',\n    value: function updateContents(delta) {\n      var _this11 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        return _this11.editor.applyDelta(delta, source);\n      }, source, true);\n    }\n  }]);\n\n  return Quill;\n}();\n\nQuill.DEFAULTS = {\n  bounds: null,\n  formats: null,\n  modules: {},\n  placeholder: '',\n  readOnly: false,\n  scrollingContainer: null,\n  strict: true,\n  theme: 'default'\n};\nQuill.events = _emitter4.default.events;\nQuill.sources = _emitter4.default.sources;\n// eslint-disable-next-line no-undef\nQuill.version =  false ? 'dev' : \"1.3.7\";\n\nQuill.imports = {\n  'delta': _quillDelta2.default,\n  'parchment': _parchment2.default,\n  'core/module': _module2.default,\n  'core/theme': _theme2.default\n};\n\nfunction expandConfig(container, userConfig) {\n  userConfig = (0, _extend2.default)(true, {\n    container: container,\n    modules: {\n      clipboard: true,\n      keyboard: true,\n      history: true\n    }\n  }, userConfig);\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n    userConfig.theme = _theme2.default;\n  } else {\n    userConfig.theme = Quill.import('themes/' + userConfig.theme);\n    if (userConfig.theme == null) {\n      throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\n    }\n  }\n  var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\n  [themeConfig, userConfig].forEach(function (config) {\n    config.modules = config.modules || {};\n    Object.keys(config.modules).forEach(function (module) {\n      if (config.modules[module] === true) {\n        config.modules[module] = {};\n      }\n    });\n  });\n  var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\n  var moduleConfig = moduleNames.reduce(function (config, name) {\n    var moduleClass = Quill.import('modules/' + name);\n    if (moduleClass == null) {\n      debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\n    } else {\n      config[name] = moduleClass.DEFAULTS || {};\n    }\n    return config;\n  }, {});\n  // Special case toolbar shorthand\n  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\n    userConfig.modules.toolbar = {\n      container: userConfig.modules.toolbar\n    };\n  }\n  userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);\n  ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\n    if (typeof userConfig[key] === 'string') {\n      userConfig[key] = document.querySelector(userConfig[key]);\n    }\n  });\n  userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\n    if (userConfig.modules[name]) {\n      config[name] = userConfig.modules[name];\n    }\n    return config;\n  }, {});\n  return userConfig;\n}\n\n// Handle selection preservation and TEXT_CHANGE emission\n// common to modification APIs\nfunction modify(modifier, source, index, shift) {\n  if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\n    return new _quillDelta2.default();\n  }\n  var range = index == null ? null : this.getSelection();\n  var oldDelta = this.editor.delta;\n  var change = modifier();\n  if (range != null) {\n    if (index === true) index = range.index;\n    if (shift == null) {\n      range = shiftRange(range, change, source);\n    } else if (shift !== 0) {\n      range = shiftRange(range, index, shift, source);\n    }\n    this.setSelection(range, _emitter4.default.sources.SILENT);\n  }\n  if (change.length() > 0) {\n    var _emitter;\n\n    var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\n    (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n    if (source !== _emitter4.default.sources.SILENT) {\n      var _emitter2;\n\n      (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n    }\n  }\n  return change;\n}\n\nfunction overload(index, length, name, value, source) {\n  var formats = {};\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\n    // Allow for throwaway end (used by insertText/insertEmbed)\n    if (typeof length !== 'number') {\n      source = value, value = name, name = length, length = index.length, index = index.index;\n    } else {\n      length = index.length, index = index.index;\n    }\n  } else if (typeof length !== 'number') {\n    source = value, value = name, name = length, length = 0;\n  }\n  // Handle format being object, two format name/value strings or excluded\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    formats = name;\n    source = value;\n  } else if (typeof name === 'string') {\n    if (value != null) {\n      formats[name] = value;\n    } else {\n      source = name;\n    }\n  }\n  // Handle optional source\n  source = source || _emitter4.default.sources.API;\n  return [index, length, formats, source];\n}\n\nfunction shiftRange(range, index, length, source) {\n  if (range == null) return null;\n  var start = void 0,\n      end = void 0;\n  if (index instanceof _quillDelta2.default) {\n    var _map = [range.index, range.index + range.length].map(function (pos) {\n      return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\n    });\n\n    var _map2 = _slicedToArray(_map, 2);\n\n    start = _map2[0];\n    end = _map2[1];\n  } else {\n    var _map3 = [range.index, range.index + range.length].map(function (pos) {\n      if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\n      if (length >= 0) {\n        return pos + length;\n      } else {\n        return Math.max(index, pos + length);\n      }\n    });\n\n    var _map4 = _slicedToArray(_map3, 2);\n\n    start = _map4[0];\n    end = _map4[1];\n  }\n  return new _selection.Range(start, end - start);\n}\n\nexports.expandConfig = expandConfig;\nexports.overload = overload;\nexports.default = Quill;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Inline = function (_Parchment$Inline) {\n  _inherits(Inline, _Parchment$Inline);\n\n  function Inline() {\n    _classCallCheck(this, Inline);\n\n    return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\n  }\n\n  _createClass(Inline, [{\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\n        var blot = this.isolate(index, length);\n        if (value) {\n          blot.wrap(name, value);\n        }\n      } else {\n        _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\n      if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n        var parent = this.parent.isolate(this.offset(), this.length());\n        this.moveChildren(parent);\n        parent.wrap(this);\n      }\n    }\n  }], [{\n    key: 'compare',\n    value: function compare(self, other) {\n      var selfIndex = Inline.order.indexOf(self);\n      var otherIndex = Inline.order.indexOf(other);\n      if (selfIndex >= 0 || otherIndex >= 0) {\n        return selfIndex - otherIndex;\n      } else if (self === other) {\n        return 0;\n      } else if (self < other) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }\n  }]);\n\n  return Inline;\n}(_parchment2.default.Inline);\n\nInline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\nInline.order = ['cursor', 'inline', // Must be lower\n'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\n];\n\nexports.default = Inline;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TextBlot = function (_Parchment$Text) {\n  _inherits(TextBlot, _Parchment$Text);\n\n  function TextBlot() {\n    _classCallCheck(this, TextBlot);\n\n    return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\n  }\n\n  return TextBlot;\n}(_parchment2.default.Text);\n\nexports.default = TextBlot;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _eventemitter = __webpack_require__(54);\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:events');\n\nvar EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n\nEVENTS.forEach(function (eventName) {\n  document.addEventListener(eventName, function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\n      // TODO use WeakMap\n      if (node.__quill && node.__quill.emitter) {\n        var _node$__quill$emitter;\n\n        (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\n      }\n    });\n  });\n});\n\nvar Emitter = function (_EventEmitter) {\n  _inherits(Emitter, _EventEmitter);\n\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n\n    var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\n\n    _this.listeners = {};\n    _this.on('error', debug.error);\n    return _this;\n  }\n\n  _createClass(Emitter, [{\n    key: 'emit',\n    value: function emit() {\n      debug.log.apply(debug, arguments);\n      _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\n    }\n  }, {\n    key: 'handleDOM',\n    value: function handleDOM(event) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      (this.listeners[event.type] || []).forEach(function (_ref) {\n        var node = _ref.node,\n            handler = _ref.handler;\n\n        if (event.target === node || node.contains(event.target)) {\n          handler.apply(undefined, [event].concat(args));\n        }\n      });\n    }\n  }, {\n    key: 'listenDOM',\n    value: function listenDOM(eventName, node, handler) {\n      if (!this.listeners[eventName]) {\n        this.listeners[eventName] = [];\n      }\n      this.listeners[eventName].push({ node: node, handler: handler });\n    }\n  }]);\n\n  return Emitter;\n}(_eventemitter2.default);\n\nEmitter.events = {\n  EDITOR_CHANGE: 'editor-change',\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n  SCROLL_OPTIMIZE: 'scroll-optimize',\n  SCROLL_UPDATE: 'scroll-update',\n  SELECTION_CHANGE: 'selection-change',\n  TEXT_CHANGE: 'text-change'\n};\nEmitter.sources = {\n  API: 'api',\n  SILENT: 'silent',\n  USER: 'user'\n};\n\nexports.default = Emitter;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Module = function Module(quill) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _classCallCheck(this, Module);\n\n  this.quill = quill;\n  this.options = options;\n};\n\nModule.DEFAULTS = {};\n\nexports.default = Module;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar levels = ['error', 'warn', 'log', 'info'];\nvar level = 'warn';\n\nfunction debug(method) {\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\n    var _console;\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\n  }\n}\n\nfunction namespace(ns) {\n  return levels.reduce(function (logger, method) {\n    logger[method] = debug.bind(console, method, ns);\n    return logger;\n  }, {});\n}\n\ndebug.level = namespace.level = function (newLevel) {\n  level = newLevel;\n};\n\nexports.default = namespace;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pSlice = Array.prototype.slice;\nvar objectKeys = __webpack_require__(52);\nvar isArguments = __webpack_require__(53);\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar Attributor = /** @class */ (function () {\n    function Attributor(attrName, keyName, options) {\n        if (options === void 0) { options = {}; }\n        this.attrName = attrName;\n        this.keyName = keyName;\n        var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\n        if (options.scope != null) {\n            // Ignore type bits, force attribute bit\n            this.scope = (options.scope & Registry.Scope.LEVEL) | attributeBit;\n        }\n        else {\n            this.scope = Registry.Scope.ATTRIBUTE;\n        }\n        if (options.whitelist != null)\n            this.whitelist = options.whitelist;\n    }\n    Attributor.keys = function (node) {\n        return [].map.call(node.attributes, function (item) {\n            return item.name;\n        });\n    };\n    Attributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        node.setAttribute(this.keyName, value);\n        return true;\n    };\n    Attributor.prototype.canAdd = function (node, value) {\n        var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\n        if (match == null)\n            return false;\n        if (this.whitelist == null)\n            return true;\n        if (typeof value === 'string') {\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n        }\n        else {\n            return this.whitelist.indexOf(value) > -1;\n        }\n    };\n    Attributor.prototype.remove = function (node) {\n        node.removeAttribute(this.keyName);\n    };\n    Attributor.prototype.value = function (node) {\n        var value = node.getAttribute(this.keyName);\n        if (this.canAdd(node, value) && value) {\n            return value;\n        }\n        return '';\n    };\n    return Attributor;\n}());\nexports.default = Attributor;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Code = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Code = function (_Inline) {\n  _inherits(Code, _Inline);\n\n  function Code() {\n    _classCallCheck(this, Code);\n\n    return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\n  }\n\n  return Code;\n}(_inline2.default);\n\nCode.blotName = 'code';\nCode.tagName = 'CODE';\n\nvar CodeBlock = function (_Block) {\n  _inherits(CodeBlock, _Block);\n\n  function CodeBlock() {\n    _classCallCheck(this, CodeBlock);\n\n    return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(CodeBlock, [{\n    key: 'delta',\n    value: function delta() {\n      var _this3 = this;\n\n      var text = this.domNode.textContent;\n      if (text.endsWith('\\n')) {\n        // Should always be true\n        text = text.slice(0, -1);\n      }\n      return text.split('\\n').reduce(function (delta, frag) {\n        return delta.insert(frag).insert('\\n', _this3.formats());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (name === this.statics.blotName && value) return;\n\n      var _descendant = this.descendant(_text2.default, this.length() - 1),\n          _descendant2 = _slicedToArray(_descendant, 1),\n          text = _descendant2[0];\n\n      if (text != null) {\n        text.deleteAt(text.length() - 1, 1);\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length === 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\n        return;\n      }\n      var nextNewline = this.newlineIndex(index);\n      if (nextNewline < 0 || nextNewline >= index + length) return;\n      var prevNewline = this.newlineIndex(index, true) + 1;\n      var isolateLength = nextNewline - prevNewline + 1;\n      var blot = this.isolate(prevNewline, isolateLength);\n      var next = blot.next;\n      blot.format(name, value);\n      if (next instanceof CodeBlock) {\n        next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\n      }\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return;\n\n      var _descendant3 = this.descendant(_text2.default, index),\n          _descendant4 = _slicedToArray(_descendant3, 2),\n          text = _descendant4[0],\n          offset = _descendant4[1];\n\n      text.insertAt(offset, value);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      var length = this.domNode.textContent.length;\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        return length + 1;\n      }\n      return length;\n    }\n  }, {\n    key: 'newlineIndex',\n    value: function newlineIndex(searchIndex) {\n      var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!reverse) {\n        var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\n        return offset > -1 ? searchIndex + offset : -1;\n      } else {\n        return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        this.appendChild(_parchment2.default.create('text', '\\n'));\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\n        next.optimize(context);\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\n      [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\n        var blot = _parchment2.default.find(node);\n        if (blot == null) {\n          node.parentNode.removeChild(node);\n        } else if (blot instanceof _parchment2.default.Embed) {\n          blot.remove();\n        } else {\n          blot.unwrap();\n        }\n      });\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\n      domNode.setAttribute('spellcheck', false);\n      return domNode;\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return CodeBlock;\n}(_block2.default);\n\nCodeBlock.blotName = 'code-block';\nCodeBlock.tagName = 'PRE';\nCodeBlock.TAB = '  ';\n\nexports.Code = Code;\nexports.default = CodeBlock;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ASCII = /^[ -~]*$/;\n\nvar Editor = function () {\n  function Editor(scroll) {\n    _classCallCheck(this, Editor);\n\n    this.scroll = scroll;\n    this.delta = this.getDelta();\n  }\n\n  _createClass(Editor, [{\n    key: 'applyDelta',\n    value: function applyDelta(delta) {\n      var _this = this;\n\n      var consumeNextNewline = false;\n      this.scroll.update();\n      var scrollLength = this.scroll.length();\n      this.scroll.batchStart();\n      delta = normalizeDelta(delta);\n      delta.reduce(function (index, op) {\n        var length = op.retain || op.delete || op.insert.length || 1;\n        var attributes = op.attributes || {};\n        if (op.insert != null) {\n          if (typeof op.insert === 'string') {\n            var text = op.insert;\n            if (text.endsWith('\\n') && consumeNextNewline) {\n              consumeNextNewline = false;\n              text = text.slice(0, -1);\n            }\n            if (index >= scrollLength && !text.endsWith('\\n')) {\n              consumeNextNewline = true;\n            }\n            _this.scroll.insertAt(index, text);\n\n            var _scroll$line = _this.scroll.line(index),\n                _scroll$line2 = _slicedToArray(_scroll$line, 2),\n                line = _scroll$line2[0],\n                offset = _scroll$line2[1];\n\n            var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\n            if (line instanceof _block2.default) {\n              var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\n                  _line$descendant2 = _slicedToArray(_line$descendant, 1),\n                  leaf = _line$descendant2[0];\n\n              formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\n            }\n            attributes = _op2.default.attributes.diff(formats, attributes) || {};\n          } else if (_typeof(op.insert) === 'object') {\n            var key = Object.keys(op.insert)[0]; // There should only be one key\n            if (key == null) return index;\n            _this.scroll.insertAt(index, key, op.insert[key]);\n          }\n          scrollLength += length;\n        }\n        Object.keys(attributes).forEach(function (name) {\n          _this.scroll.formatAt(index, length, name, attributes[name]);\n        });\n        return index + length;\n      }, 0);\n      delta.reduce(function (index, op) {\n        if (typeof op.delete === 'number') {\n          _this.scroll.deleteAt(index, op.delete);\n          return index;\n        }\n        return index + (op.retain || op.insert.length || 1);\n      }, 0);\n      this.scroll.batchEnd();\n      return this.update(delta);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length) {\n      this.scroll.deleteAt(index, length);\n      return this.update(new _quillDelta2.default().retain(index).delete(length));\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length) {\n      var _this2 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      this.scroll.update();\n      Object.keys(formats).forEach(function (format) {\n        if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\n        var lines = _this2.scroll.lines(index, Math.max(length, 1));\n        var lengthRemaining = length;\n        lines.forEach(function (line) {\n          var lineLength = line.length();\n          if (!(line instanceof _code2.default)) {\n            line.format(format, formats[format]);\n          } else {\n            var codeIndex = index - line.offset(_this2.scroll);\n            var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\n            line.formatAt(codeIndex, codeLength, format, formats[format]);\n          }\n          lengthRemaining -= lineLength;\n        });\n      });\n      this.scroll.optimize();\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length) {\n      var _this3 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      Object.keys(formats).forEach(function (format) {\n        _this3.scroll.formatAt(index, length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents(index, length) {\n      return this.delta.slice(index, index + length);\n    }\n  }, {\n    key: 'getDelta',\n    value: function getDelta() {\n      return this.scroll.lines().reduce(function (delta, line) {\n        return delta.concat(line.delta());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var lines = [],\n          leaves = [];\n      if (length === 0) {\n        this.scroll.path(index).forEach(function (path) {\n          var _path = _slicedToArray(path, 1),\n              blot = _path[0];\n\n          if (blot instanceof _block2.default) {\n            lines.push(blot);\n          } else if (blot instanceof _parchment2.default.Leaf) {\n            leaves.push(blot);\n          }\n        });\n      } else {\n        lines = this.scroll.lines(index, length);\n        leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\n      }\n      var formatsArr = [lines, leaves].map(function (blots) {\n        if (blots.length === 0) return {};\n        var formats = (0, _block.bubbleFormats)(blots.shift());\n        while (Object.keys(formats).length > 0) {\n          var blot = blots.shift();\n          if (blot == null) return formats;\n          formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\n        }\n        return formats;\n      });\n      return _extend2.default.apply(_extend2.default, formatsArr);\n    }\n  }, {\n    key: 'getText',\n    value: function getText(index, length) {\n      return this.getContents(index, length).filter(function (op) {\n        return typeof op.insert === 'string';\n      }).map(function (op) {\n        return op.insert;\n      }).join('');\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      this.scroll.insertAt(index, embed, value);\n      return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text) {\n      var _this4 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      this.scroll.insertAt(index, text);\n      Object.keys(formats).forEach(function (format) {\n        _this4.scroll.formatAt(index, text.length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'isBlank',\n    value: function isBlank() {\n      if (this.scroll.children.length == 0) return true;\n      if (this.scroll.children.length > 1) return false;\n      var block = this.scroll.children.head;\n      if (block.statics.blotName !== _block2.default.blotName) return false;\n      if (block.children.length > 1) return false;\n      return block.children.head instanceof _break2.default;\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length) {\n      var text = this.getText(index, length);\n\n      var _scroll$line3 = this.scroll.line(index + length),\n          _scroll$line4 = _slicedToArray(_scroll$line3, 2),\n          line = _scroll$line4[0],\n          offset = _scroll$line4[1];\n\n      var suffixLength = 0,\n          suffix = new _quillDelta2.default();\n      if (line != null) {\n        if (!(line instanceof _code2.default)) {\n          suffixLength = line.length() - offset;\n        } else {\n          suffixLength = line.newlineIndex(offset) - offset + 1;\n        }\n        suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\n      }\n      var contents = this.getContents(index, length + suffixLength);\n      var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\n      var delta = new _quillDelta2.default().retain(index).concat(diff);\n      return this.applyDelta(delta);\n    }\n  }, {\n    key: 'update',\n    value: function update(change) {\n      var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n      var oldDelta = this.delta;\n      if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\n        // Optimization for character changes\n        var textBlot = _parchment2.default.find(mutations[0].target);\n        var formats = (0, _block.bubbleFormats)(textBlot);\n        var index = textBlot.offset(this.scroll);\n        var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\n        var oldText = new _quillDelta2.default().insert(oldValue);\n        var newText = new _quillDelta2.default().insert(textBlot.value());\n        var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\n        change = diffDelta.reduce(function (delta, op) {\n          if (op.insert) {\n            return delta.insert(op.insert, formats);\n          } else {\n            return delta.push(op);\n          }\n        }, new _quillDelta2.default());\n        this.delta = oldDelta.compose(change);\n      } else {\n        this.delta = this.getDelta();\n        if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\n          change = oldDelta.diff(this.delta, cursorIndex);\n        }\n      }\n      return change;\n    }\n  }]);\n\n  return Editor;\n}();\n\nfunction combineFormats(formats, combined) {\n  return Object.keys(combined).reduce(function (merged, name) {\n    if (formats[name] == null) return merged;\n    if (combined[name] === formats[name]) {\n      merged[name] = combined[name];\n    } else if (Array.isArray(combined[name])) {\n      if (combined[name].indexOf(formats[name]) < 0) {\n        merged[name] = combined[name].concat([formats[name]]);\n      }\n    } else {\n      merged[name] = [combined[name], formats[name]];\n    }\n    return merged;\n  }, {});\n}\n\nfunction normalizeDelta(delta) {\n  return delta.reduce(function (delta, op) {\n    if (op.insert === 1) {\n      var attributes = (0, _clone2.default)(op.attributes);\n      delete attributes['image'];\n      return delta.insert({ image: op.attributes.image }, attributes);\n    }\n    if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\n      op = (0, _clone2.default)(op);\n      if (op.attributes.list) {\n        op.attributes.list = 'ordered';\n      } else {\n        op.attributes.list = 'bullet';\n        delete op.attributes.bullet;\n      }\n    }\n    if (typeof op.insert === 'string') {\n      var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      return delta.insert(text, op.attributes);\n    }\n    return delta.push(op);\n  }, new _quillDelta2.default());\n}\n\nexports.default = Editor;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Range = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill:selection');\n\nvar Range = function Range(index) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  _classCallCheck(this, Range);\n\n  this.index = index;\n  this.length = length;\n};\n\nvar Selection = function () {\n  function Selection(scroll, emitter) {\n    var _this = this;\n\n    _classCallCheck(this, Selection);\n\n    this.emitter = emitter;\n    this.scroll = scroll;\n    this.composing = false;\n    this.mouseDown = false;\n    this.root = this.scroll.domNode;\n    this.cursor = _parchment2.default.create('cursor', this);\n    // savedRange is last non-null range\n    this.lastRange = this.savedRange = new Range(0, 0);\n    this.handleComposition();\n    this.handleDragging();\n    this.emitter.listenDOM('selectionchange', document, function () {\n      if (!_this.mouseDown) {\n        setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\n      if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\n        _this.update(_emitter4.default.sources.SILENT);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\n      if (!_this.hasFocus()) return;\n      var native = _this.getNativeRange();\n      if (native == null) return;\n      if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\n      // TODO unclear if this has negative side effects\n      _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\n        try {\n          _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\n        } catch (ignored) {}\n      });\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\n      if (context.range) {\n        var _context$range = context.range,\n            startNode = _context$range.startNode,\n            startOffset = _context$range.startOffset,\n            endNode = _context$range.endNode,\n            endOffset = _context$range.endOffset;\n\n        _this.setNativeRange(startNode, startOffset, endNode, endOffset);\n      }\n    });\n    this.update(_emitter4.default.sources.SILENT);\n  }\n\n  _createClass(Selection, [{\n    key: 'handleComposition',\n    value: function handleComposition() {\n      var _this2 = this;\n\n      this.root.addEventListener('compositionstart', function () {\n        _this2.composing = true;\n      });\n      this.root.addEventListener('compositionend', function () {\n        _this2.composing = false;\n        if (_this2.cursor.parent) {\n          var range = _this2.cursor.restore();\n          if (!range) return;\n          setTimeout(function () {\n            _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n          }, 1);\n        }\n      });\n    }\n  }, {\n    key: 'handleDragging',\n    value: function handleDragging() {\n      var _this3 = this;\n\n      this.emitter.listenDOM('mousedown', document.body, function () {\n        _this3.mouseDown = true;\n      });\n      this.emitter.listenDOM('mouseup', document.body, function () {\n        _this3.mouseDown = false;\n        _this3.update(_emitter4.default.sources.USER);\n      });\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      if (this.hasFocus()) return;\n      this.root.focus();\n      this.setRange(this.savedRange);\n    }\n  }, {\n    key: 'format',\n    value: function format(_format, value) {\n      if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\n      this.scroll.update();\n      var nativeRange = this.getNativeRange();\n      if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\n      if (nativeRange.start.node !== this.cursor.textNode) {\n        var blot = _parchment2.default.find(nativeRange.start.node, false);\n        if (blot == null) return;\n        // TODO Give blot ability to not split\n        if (blot instanceof _parchment2.default.Leaf) {\n          var after = blot.split(nativeRange.start.offset);\n          blot.parent.insertBefore(this.cursor, after);\n        } else {\n          blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n        }\n        this.cursor.attach();\n      }\n      this.cursor.format(_format, value);\n      this.scroll.optimize();\n      this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n      this.update();\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var scrollLength = this.scroll.length();\n      index = Math.min(index, scrollLength - 1);\n      length = Math.min(index + length, scrollLength - 1) - index;\n      var node = void 0,\n          _scroll$leaf = this.scroll.leaf(index),\n          _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\n          leaf = _scroll$leaf2[0],\n          offset = _scroll$leaf2[1];\n      if (leaf == null) return null;\n\n      var _leaf$position = leaf.position(offset, true);\n\n      var _leaf$position2 = _slicedToArray(_leaf$position, 2);\n\n      node = _leaf$position2[0];\n      offset = _leaf$position2[1];\n\n      var range = document.createRange();\n      if (length > 0) {\n        range.setStart(node, offset);\n\n        var _scroll$leaf3 = this.scroll.leaf(index + length);\n\n        var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\n\n        leaf = _scroll$leaf4[0];\n        offset = _scroll$leaf4[1];\n\n        if (leaf == null) return null;\n\n        var _leaf$position3 = leaf.position(offset, true);\n\n        var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\n\n        node = _leaf$position4[0];\n        offset = _leaf$position4[1];\n\n        range.setEnd(node, offset);\n        return range.getBoundingClientRect();\n      } else {\n        var side = 'left';\n        var rect = void 0;\n        if (node instanceof Text) {\n          if (offset < node.data.length) {\n            range.setStart(node, offset);\n            range.setEnd(node, offset + 1);\n          } else {\n            range.setStart(node, offset - 1);\n            range.setEnd(node, offset);\n            side = 'right';\n          }\n          rect = range.getBoundingClientRect();\n        } else {\n          rect = leaf.domNode.getBoundingClientRect();\n          if (offset > 0) side = 'right';\n        }\n        return {\n          bottom: rect.top + rect.height,\n          height: rect.height,\n          left: rect[side],\n          right: rect[side],\n          top: rect.top,\n          width: 0\n        };\n      }\n    }\n  }, {\n    key: 'getNativeRange',\n    value: function getNativeRange() {\n      var selection = document.getSelection();\n      if (selection == null || selection.rangeCount <= 0) return null;\n      var nativeRange = selection.getRangeAt(0);\n      if (nativeRange == null) return null;\n      var range = this.normalizeNative(nativeRange);\n      debug.info('getNativeRange', range);\n      return range;\n    }\n  }, {\n    key: 'getRange',\n    value: function getRange() {\n      var normalized = this.getNativeRange();\n      if (normalized == null) return [null, null];\n      var range = this.normalizedToRange(normalized);\n      return [range, normalized];\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return document.activeElement === this.root;\n    }\n  }, {\n    key: 'normalizedToRange',\n    value: function normalizedToRange(range) {\n      var _this4 = this;\n\n      var positions = [[range.start.node, range.start.offset]];\n      if (!range.native.collapsed) {\n        positions.push([range.end.node, range.end.offset]);\n      }\n      var indexes = positions.map(function (position) {\n        var _position = _slicedToArray(position, 2),\n            node = _position[0],\n            offset = _position[1];\n\n        var blot = _parchment2.default.find(node, true);\n        var index = blot.offset(_this4.scroll);\n        if (offset === 0) {\n          return index;\n        } else if (blot instanceof _parchment2.default.Container) {\n          return index + blot.length();\n        } else {\n          return index + blot.index(node, offset);\n        }\n      });\n      var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\n      var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\n      return new Range(start, end - start);\n    }\n  }, {\n    key: 'normalizeNative',\n    value: function normalizeNative(nativeRange) {\n      if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\n        return null;\n      }\n      var range = {\n        start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },\n        end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\n        native: nativeRange\n      };\n      [range.start, range.end].forEach(function (position) {\n        var node = position.node,\n            offset = position.offset;\n        while (!(node instanceof Text) && node.childNodes.length > 0) {\n          if (node.childNodes.length > offset) {\n            node = node.childNodes[offset];\n            offset = 0;\n          } else if (node.childNodes.length === offset) {\n            node = node.lastChild;\n            offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\n          } else {\n            break;\n          }\n        }\n        position.node = node, position.offset = offset;\n      });\n      return range;\n    }\n  }, {\n    key: 'rangeToNative',\n    value: function rangeToNative(range) {\n      var _this5 = this;\n\n      var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n      var args = [];\n      var scrollLength = this.scroll.length();\n      indexes.forEach(function (index, i) {\n        index = Math.min(scrollLength - 1, index);\n        var node = void 0,\n            _scroll$leaf5 = _this5.scroll.leaf(index),\n            _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\n            leaf = _scroll$leaf6[0],\n            offset = _scroll$leaf6[1];\n        var _leaf$position5 = leaf.position(offset, i !== 0);\n\n        var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\n\n        node = _leaf$position6[0];\n        offset = _leaf$position6[1];\n\n        args.push(node, offset);\n      });\n      if (args.length < 2) {\n        args = args.concat(args);\n      }\n      return args;\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView(scrollingContainer) {\n      var range = this.lastRange;\n      if (range == null) return;\n      var bounds = this.getBounds(range.index, range.length);\n      if (bounds == null) return;\n      var limit = this.scroll.length() - 1;\n\n      var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\n          _scroll$line2 = _slicedToArray(_scroll$line, 1),\n          first = _scroll$line2[0];\n\n      var last = first;\n      if (range.length > 0) {\n        var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\n\n        var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\n\n        last = _scroll$line4[0];\n      }\n      if (first == null || last == null) return;\n      var scrollBounds = scrollingContainer.getBoundingClientRect();\n      if (bounds.top < scrollBounds.top) {\n        scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n      } else if (bounds.bottom > scrollBounds.bottom) {\n        scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n      }\n    }\n  }, {\n    key: 'setNativeRange',\n    value: function setNativeRange(startNode, startOffset) {\n      var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\n      var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\n      var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n      debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n      if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\n        return;\n      }\n      var selection = document.getSelection();\n      if (selection == null) return;\n      if (startNode != null) {\n        if (!this.hasFocus()) this.root.focus();\n        var native = (this.getNativeRange() || {}).native;\n        if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\n\n          if (startNode.tagName == \"BR\") {\n            startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\n            startNode = startNode.parentNode;\n          }\n          if (endNode.tagName == \"BR\") {\n            endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\n            endNode = endNode.parentNode;\n          }\n          var range = document.createRange();\n          range.setStart(startNode, startOffset);\n          range.setEnd(endNode, endOffset);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        }\n      } else {\n        selection.removeAllRanges();\n        this.root.blur();\n        document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\n      }\n    }\n  }, {\n    key: 'setRange',\n    value: function setRange(range) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      if (typeof force === 'string') {\n        source = force;\n        force = false;\n      }\n      debug.info('setRange', range);\n      if (range != null) {\n        var args = this.rangeToNative(range);\n        this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\n      } else {\n        this.setNativeRange(null);\n      }\n      this.update(source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var oldRange = this.lastRange;\n\n      var _getRange = this.getRange(),\n          _getRange2 = _slicedToArray(_getRange, 2),\n          lastRange = _getRange2[0],\n          nativeRange = _getRange2[1];\n\n      this.lastRange = lastRange;\n      if (this.lastRange != null) {\n        this.savedRange = this.lastRange;\n      }\n      if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\n        var _emitter;\n\n        if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n          this.cursor.restore();\n        }\n        var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\n        (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n        if (source !== _emitter4.default.sources.SILENT) {\n          var _emitter2;\n\n          (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n        }\n      }\n    }\n  }]);\n\n  return Selection;\n}();\n\nfunction contains(parent, descendant) {\n  try {\n    // Firefox inserts inaccessible nodes around video elements\n    descendant.parentNode;\n  } catch (e) {\n    return false;\n  }\n  // IE11 has bug with Text nodes\n  // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n  if (descendant instanceof Text) {\n    descendant = descendant.parentNode;\n  }\n  return parent.contains(descendant);\n}\n\nexports.Range = Range;\nexports.default = Selection;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Break = function (_Parchment$Embed) {\n  _inherits(Break, _Parchment$Embed);\n\n  function Break() {\n    _classCallCheck(this, Break);\n\n    return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\n  }\n\n  _createClass(Break, [{\n    key: 'insertInto',\n    value: function insertInto(parent, ref) {\n      if (parent.children.length === 0) {\n        _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\n      } else {\n        this.remove();\n      }\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return 0;\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }], [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  return Break;\n}(_parchment2.default.Embed);\n\nBreak.blotName = 'break';\nBreak.tagName = 'BR';\n\nexports.default = Break;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar linked_list_1 = __webpack_require__(44);\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar ContainerBlot = /** @class */ (function (_super) {\n    __extends(ContainerBlot, _super);\n    function ContainerBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.build();\n        return _this;\n    }\n    ContainerBlot.prototype.appendChild = function (other) {\n        this.insertBefore(other);\n    };\n    ContainerBlot.prototype.attach = function () {\n        _super.prototype.attach.call(this);\n        this.children.forEach(function (child) {\n            child.attach();\n        });\n    };\n    ContainerBlot.prototype.build = function () {\n        var _this = this;\n        this.children = new linked_list_1.default();\n        // Need to be reversed for if DOM nodes already in order\n        [].slice\n            .call(this.domNode.childNodes)\n            .reverse()\n            .forEach(function (node) {\n            try {\n                var child = makeBlot(node);\n                _this.insertBefore(child, _this.children.head || undefined);\n            }\n            catch (err) {\n                if (err instanceof Registry.ParchmentError)\n                    return;\n                else\n                    throw err;\n            }\n        });\n    };\n    ContainerBlot.prototype.deleteAt = function (index, length) {\n        if (index === 0 && length === this.length()) {\n            return this.remove();\n        }\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.deleteAt(offset, length);\n        });\n    };\n    ContainerBlot.prototype.descendant = function (criteria, index) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if ((criteria.blotName == null && criteria(child)) ||\n            (criteria.blotName != null && child instanceof criteria)) {\n            return [child, offset];\n        }\n        else if (child instanceof ContainerBlot) {\n            return child.descendant(criteria, offset);\n        }\n        else {\n            return [null, -1];\n        }\n    };\n    ContainerBlot.prototype.descendants = function (criteria, index, length) {\n        if (index === void 0) { index = 0; }\n        if (length === void 0) { length = Number.MAX_VALUE; }\n        var descendants = [];\n        var lengthLeft = length;\n        this.children.forEachAt(index, length, function (child, index, length) {\n            if ((criteria.blotName == null && criteria(child)) ||\n                (criteria.blotName != null && child instanceof criteria)) {\n                descendants.push(child);\n            }\n            if (child instanceof ContainerBlot) {\n                descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\n            }\n            lengthLeft -= length;\n        });\n        return descendants;\n    };\n    ContainerBlot.prototype.detach = function () {\n        this.children.forEach(function (child) {\n            child.detach();\n        });\n        _super.prototype.detach.call(this);\n    };\n    ContainerBlot.prototype.formatAt = function (index, length, name, value) {\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.formatAt(offset, length, name, value);\n        });\n    };\n    ContainerBlot.prototype.insertAt = function (index, value, def) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if (child) {\n            child.insertAt(offset, value, def);\n        }\n        else {\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n            this.appendChild(blot);\n        }\n    };\n    ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\n        if (this.statics.allowedChildren != null &&\n            !this.statics.allowedChildren.some(function (child) {\n                return childBlot instanceof child;\n            })) {\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\n        }\n        childBlot.insertInto(this, refBlot);\n    };\n    ContainerBlot.prototype.length = function () {\n        return this.children.reduce(function (memo, child) {\n            return memo + child.length();\n        }, 0);\n    };\n    ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\n        this.children.forEach(function (child) {\n            targetParent.insertBefore(child, refNode);\n        });\n    };\n    ContainerBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        if (this.children.length === 0) {\n            if (this.statics.defaultChild != null) {\n                var child = Registry.create(this.statics.defaultChild);\n                this.appendChild(child);\n                child.optimize(context);\n            }\n            else {\n                this.remove();\n            }\n        }\n    };\n    ContainerBlot.prototype.path = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var _a = this.children.find(index, inclusive), child = _a[0], offset = _a[1];\n        var position = [[this, index]];\n        if (child instanceof ContainerBlot) {\n            return position.concat(child.path(offset, inclusive));\n        }\n        else if (child != null) {\n            position.push([child, offset]);\n        }\n        return position;\n    };\n    ContainerBlot.prototype.removeChild = function (child) {\n        this.children.remove(child);\n    };\n    ContainerBlot.prototype.replace = function (target) {\n        if (target instanceof ContainerBlot) {\n            target.moveChildren(this);\n        }\n        _super.prototype.replace.call(this, target);\n    };\n    ContainerBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = this.clone();\n        this.parent.insertBefore(after, this.next);\n        this.children.forEachAt(index, this.length(), function (child, offset, length) {\n            child = child.split(offset, force);\n            after.appendChild(child);\n        });\n        return after;\n    };\n    ContainerBlot.prototype.unwrap = function () {\n        this.moveChildren(this.parent, this.next);\n        this.remove();\n    };\n    ContainerBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        var addedNodes = [];\n        var removedNodes = [];\n        mutations.forEach(function (mutation) {\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\n                addedNodes.push.apply(addedNodes, mutation.addedNodes);\n                removedNodes.push.apply(removedNodes, mutation.removedNodes);\n            }\n        });\n        removedNodes.forEach(function (node) {\n            // Check node has actually been removed\n            // One exception is Chrome does not immediately remove IFRAMEs\n            // from DOM but MutationRecord is correct in its reported removal\n            if (node.parentNode != null &&\n                // @ts-ignore\n                node.tagName !== 'IFRAME' &&\n                document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n                return;\n            }\n            var blot = Registry.find(node);\n            if (blot == null)\n                return;\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\n                blot.detach();\n            }\n        });\n        addedNodes\n            .filter(function (node) {\n            return node.parentNode == _this.domNode;\n        })\n            .sort(function (a, b) {\n            if (a === b)\n                return 0;\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n                return 1;\n            }\n            return -1;\n        })\n            .forEach(function (node) {\n            var refBlot = null;\n            if (node.nextSibling != null) {\n                refBlot = Registry.find(node.nextSibling);\n            }\n            var blot = makeBlot(node);\n            if (blot.next != refBlot || blot.next == null) {\n                if (blot.parent != null) {\n                    blot.parent.removeChild(_this);\n                }\n                _this.insertBefore(blot, refBlot || undefined);\n            }\n        });\n    };\n    return ContainerBlot;\n}(shadow_1.default));\nfunction makeBlot(node) {\n    var blot = Registry.find(node);\n    if (blot == null) {\n        try {\n            blot = Registry.create(node);\n        }\n        catch (e) {\n            blot = Registry.create(Registry.Scope.INLINE);\n            [].slice.call(node.childNodes).forEach(function (child) {\n                // @ts-ignore\n                blot.domNode.appendChild(child);\n            });\n            if (node.parentNode) {\n                node.parentNode.replaceChild(blot.domNode, node);\n            }\n            blot.attach();\n        }\n    }\n    return blot;\n}\nexports.default = ContainerBlot;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar store_1 = __webpack_require__(31);\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar FormatBlot = /** @class */ (function (_super) {\n    __extends(FormatBlot, _super);\n    function FormatBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.attributes = new store_1.default(_this.domNode);\n        return _this;\n    }\n    FormatBlot.formats = function (domNode) {\n        if (typeof this.tagName === 'string') {\n            return true;\n        }\n        else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n        }\n        return undefined;\n    };\n    FormatBlot.prototype.format = function (name, value) {\n        var format = Registry.query(name);\n        if (format instanceof attributor_1.default) {\n            this.attributes.attribute(format, value);\n        }\n        else if (value) {\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\n                this.replaceWith(name, value);\n            }\n        }\n    };\n    FormatBlot.prototype.formats = function () {\n        var formats = this.attributes.values();\n        var format = this.statics.formats(this.domNode);\n        if (format != null) {\n            formats[this.statics.blotName] = format;\n        }\n        return formats;\n    };\n    FormatBlot.prototype.replaceWith = function (name, value) {\n        var replacement = _super.prototype.replaceWith.call(this, name, value);\n        this.attributes.copy(replacement);\n        return replacement;\n    };\n    FormatBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        _super.prototype.update.call(this, mutations, context);\n        if (mutations.some(function (mutation) {\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\n        })) {\n            this.attributes.build();\n        }\n    };\n    FormatBlot.prototype.wrap = function (name, value) {\n        var wrapper = _super.prototype.wrap.call(this, name, value);\n        if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\n            this.attributes.move(wrapper);\n        }\n        return wrapper;\n    };\n    return FormatBlot;\n}(container_1.default));\nexports.default = FormatBlot;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar LeafBlot = /** @class */ (function (_super) {\n    __extends(LeafBlot, _super);\n    function LeafBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LeafBlot.value = function (domNode) {\n        return true;\n    };\n    LeafBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node ||\n            this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return Math.min(offset, 1);\n        }\n        return -1;\n    };\n    LeafBlot.prototype.position = function (index, inclusive) {\n        var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\n        if (index > 0)\n            offset += 1;\n        return [this.parent.domNode, offset];\n    };\n    LeafBlot.prototype.value = function () {\n        var _a;\n        return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\n    };\n    LeafBlot.scope = Registry.Scope.INLINE_BLOT;\n    return LeafBlot;\n}(shadow_1.default));\nexports.default = LeafBlot;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\n\n\nvar lib = {\n  attributes: {\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = extend(true, {}, b);\n      if (!keepNull) {\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\n          if (attributes[key] != null) {\n            copy[key] = attributes[key];\n          }\n          return copy;\n        }, {});\n      }\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    diff: function(a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (!equal(a[key], b[key])) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b;  // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\n\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n};\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp)\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (typeof nextOp['delete'] === 'number') {\n      return { 'delete': length };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return { retain: Infinity };\n  }\n};\n\nIterator.prototype.peek = function () {\n  return this.ops[this.index];\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\n\nIterator.prototype.rest = function () {\n  if (!this.hasNext()) {\n    return [];\n  } else if (this.offset === 0) {\n    return this.ops.slice(this.index);\n  } else {\n    var offset = this.offset;\n    var index = this.index;\n    var next = this.next();\n    var rest = this.ops.slice(this.index);\n    this.offset = offset;\n    this.index = index;\n    return [next].concat(rest);\n  }\n};\n\n\nmodule.exports = lib;\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nvar clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction isLine(blot) {\n  return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\n}\n\nvar Scroll = function (_Parchment$Scroll) {\n  _inherits(Scroll, _Parchment$Scroll);\n\n  function Scroll(domNode, config) {\n    _classCallCheck(this, Scroll);\n\n    var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\n\n    _this.emitter = config.emitter;\n    if (Array.isArray(config.whitelist)) {\n      _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\n        whitelist[format] = true;\n        return whitelist;\n      }, {});\n    }\n    // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\n    _this.domNode.addEventListener('DOMNodeInserted', function () {});\n    _this.optimize();\n    _this.enable();\n    return _this;\n  }\n\n  _createClass(Scroll, [{\n    key: 'batchStart',\n    value: function batchStart() {\n      this.batch = true;\n    }\n  }, {\n    key: 'batchEnd',\n    value: function batchEnd() {\n      this.batch = false;\n      this.optimize();\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      var _line = this.line(index),\n          _line2 = _slicedToArray(_line, 2),\n          first = _line2[0],\n          offset = _line2[1];\n\n      var _line3 = this.line(index + length),\n          _line4 = _slicedToArray(_line3, 1),\n          last = _line4[0];\n\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\n      if (last != null && first !== last && offset > 0) {\n        if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\n          this.optimize();\n          return;\n        }\n        if (first instanceof _code2.default) {\n          var newlineIndex = first.newlineIndex(first.length(), true);\n          if (newlineIndex > -1) {\n            first = first.split(newlineIndex + 1);\n            if (first === last) {\n              this.optimize();\n              return;\n            }\n          }\n        } else if (last instanceof _code2.default) {\n          var _newlineIndex = last.newlineIndex(0);\n          if (_newlineIndex > -1) {\n            last.split(_newlineIndex + 1);\n          }\n        }\n        var ref = last.children.head instanceof _break2.default ? null : last.children.head;\n        first.moveChildren(last, ref);\n        first.remove();\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.domNode.setAttribute('contenteditable', enabled);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, format, value) {\n      if (this.whitelist != null && !this.whitelist[format]) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\n      this.optimize();\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null && this.whitelist != null && !this.whitelist[value]) return;\n      if (index >= this.length()) {\n        if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\n          var blot = _parchment2.default.create(this.statics.defaultChild);\n          this.appendChild(blot);\n          if (def == null && value.endsWith('\\n')) {\n            value = value.slice(0, -1);\n          }\n          blot.insertAt(0, value, def);\n        } else {\n          var embed = _parchment2.default.create(value, def);\n          this.appendChild(embed);\n        }\n      } else {\n        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\n        var wrapper = _parchment2.default.create(this.statics.defaultChild);\n        wrapper.appendChild(blot);\n        blot = wrapper;\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\n    }\n  }, {\n    key: 'leaf',\n    value: function leaf(index) {\n      return this.path(index).pop() || [null, -1];\n    }\n  }, {\n    key: 'line',\n    value: function line(index) {\n      if (index === this.length()) {\n        return this.line(index - 1);\n      }\n      return this.descendant(isLine, index);\n    }\n  }, {\n    key: 'lines',\n    value: function lines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      var getLines = function getLines(blot, index, length) {\n        var lines = [],\n            lengthLeft = length;\n        blot.children.forEachAt(index, length, function (child, index, length) {\n          if (isLine(child)) {\n            lines.push(child);\n          } else if (child instanceof _parchment2.default.Container) {\n            lines = lines.concat(getLines(child, index, lengthLeft));\n          }\n          lengthLeft -= length;\n        });\n        return lines;\n      };\n      return getLines(this, index, length);\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize() {\n      var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.batch === true) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\n      }\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations) {\n      if (this.batch === true) return;\n      var source = _emitter2.default.sources.USER;\n      if (typeof mutations === 'string') {\n        source = mutations;\n      }\n      if (!Array.isArray(mutations)) {\n        mutations = this.observer.takeRecords();\n      }\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\n      }\n    }\n  }]);\n\n  return Scroll;\n}(_parchment2.default.Scroll);\n\nScroll.blotName = 'scroll';\nScroll.className = 'ql-editor';\nScroll.tagName = 'DIV';\nScroll.defaultChild = 'block';\nScroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\n\nexports.default = Scroll;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SHORTKEY = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:keyboard');\n\nvar SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\nvar Keyboard = function (_Module) {\n  _inherits(Keyboard, _Module);\n\n  _createClass(Keyboard, null, [{\n    key: 'match',\n    value: function match(evt, binding) {\n      binding = normalize(binding);\n      if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\n        return !!binding[key] !== evt[key] && binding[key] !== null;\n      })) {\n        return false;\n      }\n      return binding.key === (evt.which || evt.keyCode);\n    }\n  }]);\n\n  function Keyboard(quill, options) {\n    _classCallCheck(this, Keyboard);\n\n    var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\n\n    _this.bindings = {};\n    Object.keys(_this.options.bindings).forEach(function (name) {\n      if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\n        return;\n      }\n      if (_this.options.bindings[name]) {\n        _this.addBinding(_this.options.bindings[name]);\n      }\n    });\n    _this.addBinding({ key: Keyboard.keys.ENTER, shiftKey: null }, handleEnter);\n    _this.addBinding({ key: Keyboard.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function () {});\n    if (/Firefox/i.test(navigator.userAgent)) {\n      // Need to handle delete and backspace for Firefox in the general case #1171\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true }, handleDelete);\n    } else {\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);\n    }\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);\n    _this.listen();\n    return _this;\n  }\n\n  _createClass(Keyboard, [{\n    key: 'addBinding',\n    value: function addBinding(key) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var binding = normalize(key);\n      if (binding == null || binding.key == null) {\n        return debug.warn('Attempted to add invalid keyboard binding', binding);\n      }\n      if (typeof context === 'function') {\n        context = { handler: context };\n      }\n      if (typeof handler === 'function') {\n        handler = { handler: handler };\n      }\n      binding = (0, _extend2.default)(binding, context, handler);\n      this.bindings[binding.key] = this.bindings[binding.key] || [];\n      this.bindings[binding.key].push(binding);\n    }\n  }, {\n    key: 'listen',\n    value: function listen() {\n      var _this2 = this;\n\n      this.quill.root.addEventListener('keydown', function (evt) {\n        if (evt.defaultPrevented) return;\n        var which = evt.which || evt.keyCode;\n        var bindings = (_this2.bindings[which] || []).filter(function (binding) {\n          return Keyboard.match(evt, binding);\n        });\n        if (bindings.length === 0) return;\n        var range = _this2.quill.getSelection();\n        if (range == null || !_this2.quill.hasFocus()) return;\n\n        var _quill$getLine = _this2.quill.getLine(range.index),\n            _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\n            line = _quill$getLine2[0],\n            offset = _quill$getLine2[1];\n\n        var _quill$getLeaf = _this2.quill.getLeaf(range.index),\n            _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\n            leafStart = _quill$getLeaf2[0],\n            offsetStart = _quill$getLeaf2[1];\n\n        var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\n            _ref2 = _slicedToArray(_ref, 2),\n            leafEnd = _ref2[0],\n            offsetEnd = _ref2[1];\n\n        var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\n        var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\n        var curContext = {\n          collapsed: range.length === 0,\n          empty: range.length === 0 && line.length() <= 1,\n          format: _this2.quill.getFormat(range),\n          offset: offset,\n          prefix: prefixText,\n          suffix: suffixText\n        };\n        var prevented = bindings.some(function (binding) {\n          if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\n          if (binding.empty != null && binding.empty !== curContext.empty) return false;\n          if (binding.offset != null && binding.offset !== curContext.offset) return false;\n          if (Array.isArray(binding.format)) {\n            // any format is present\n            if (binding.format.every(function (name) {\n              return curContext.format[name] == null;\n            })) {\n              return false;\n            }\n          } else if (_typeof(binding.format) === 'object') {\n            // all formats must match\n            if (!Object.keys(binding.format).every(function (name) {\n              if (binding.format[name] === true) return curContext.format[name] != null;\n              if (binding.format[name] === false) return curContext.format[name] == null;\n              return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\n            })) {\n              return false;\n            }\n          }\n          if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\n          if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\n          return binding.handler.call(_this2, range, curContext) !== true;\n        });\n        if (prevented) {\n          evt.preventDefault();\n        }\n      });\n    }\n  }]);\n\n  return Keyboard;\n}(_module2.default);\n\nKeyboard.keys = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  ESCAPE: 27,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46\n};\n\nKeyboard.DEFAULTS = {\n  bindings: {\n    'bold': makeFormatHandler('bold'),\n    'italic': makeFormatHandler('italic'),\n    'underline': makeFormatHandler('underline'),\n    'indent': {\n      // highlight tab or tab at beginning of list, indent or blockquote\n      key: Keyboard.keys.TAB,\n      format: ['blockquote', 'indent', 'list'],\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '+1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      format: ['blockquote', 'indent', 'list'],\n      // highlight tab or tab at beginning of list, indent or blockquote\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '-1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent backspace': {\n      key: Keyboard.keys.BACKSPACE,\n      collapsed: true,\n      shiftKey: null,\n      metaKey: null,\n      ctrlKey: null,\n      altKey: null,\n      format: ['indent', 'list'],\n      offset: 0,\n      handler: function handler(range, context) {\n        if (context.format.indent != null) {\n          this.quill.format('indent', '-1', _quill2.default.sources.USER);\n        } else if (context.format.list != null) {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'indent code-block': makeCodeBlockHandler(true),\n    'outdent code-block': makeCodeBlockHandler(false),\n    'remove tab': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      collapsed: true,\n      prefix: /\\t$/,\n      handler: function handler(range) {\n        this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\n      }\n    },\n    'tab': {\n      key: Keyboard.keys.TAB,\n      handler: function handler(range) {\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n      }\n    },\n    'list empty enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['list'],\n      empty: true,\n      handler: function handler(range, context) {\n        this.quill.format('list', false, _quill2.default.sources.USER);\n        if (context.format.indent) {\n          this.quill.format('indent', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'checklist enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: { list: 'checked' },\n      handler: function handler(range) {\n        var _quill$getLine3 = this.quill.getLine(range.index),\n            _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\n            line = _quill$getLine4[0],\n            offset = _quill$getLine4[1];\n\n        var formats = (0, _extend2.default)({}, line.formats(), { list: 'checked' });\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, { list: 'unchecked' });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'header enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['header'],\n      suffix: /^$/,\n      handler: function handler(range, context) {\n        var _quill$getLine5 = this.quill.getLine(range.index),\n            _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\n            line = _quill$getLine6[0],\n            offset = _quill$getLine6[1];\n\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, { header: null });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'list autofill': {\n      key: ' ',\n      collapsed: true,\n      format: { list: false },\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n      handler: function handler(range, context) {\n        var length = context.prefix.length;\n\n        var _quill$getLine7 = this.quill.getLine(range.index),\n            _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\n            line = _quill$getLine8[0],\n            offset = _quill$getLine8[1];\n\n        if (offset > length) return true;\n        var value = void 0;\n        switch (context.prefix.trim()) {\n          case '[]':case '[ ]':\n            value = 'unchecked';\n            break;\n          case '[x]':\n            value = 'checked';\n            break;\n          case '-':case '*':\n            value = 'bullet';\n            break;\n          default:\n            value = 'ordered';\n        }\n        this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\n      }\n    },\n    'code exit': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['code-block'],\n      prefix: /\\n\\n$/,\n      suffix: /^\\s+$/,\n      handler: function handler(range) {\n        var _quill$getLine9 = this.quill.getLine(range.index),\n            _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\n            line = _quill$getLine10[0],\n            offset = _quill$getLine10[1];\n\n        var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { 'code-block': null }).delete(1);\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n      }\n    },\n    'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\n    'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\n    'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\n    'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\n  }\n};\n\nfunction makeEmbedArrowHandler(key, shiftKey) {\n  var _ref3;\n\n  var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\n  return _ref3 = {\n    key: key,\n    shiftKey: shiftKey,\n    altKey: null\n  }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\n    var index = range.index;\n    if (key === Keyboard.keys.RIGHT) {\n      index += range.length + 1;\n    }\n\n    var _quill$getLeaf3 = this.quill.getLeaf(index),\n        _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\n        leaf = _quill$getLeaf4[0];\n\n    if (!(leaf instanceof _parchment2.default.Embed)) return true;\n    if (key === Keyboard.keys.LEFT) {\n      if (shiftKey) {\n        this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\n      }\n    } else {\n      if (shiftKey) {\n        this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\n      }\n    }\n    return false;\n  }), _ref3;\n}\n\nfunction handleBackspace(range, context) {\n  if (range.index === 0 || this.quill.getLength() <= 1) return;\n\n  var _quill$getLine11 = this.quill.getLine(range.index),\n      _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\n      line = _quill$getLine12[0];\n\n  var formats = {};\n  if (context.offset === 0) {\n    var _quill$getLine13 = this.quill.getLine(range.index - 1),\n        _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\n        prev = _quill$getLine14[0];\n\n    if (prev != null && prev.length() > 1) {\n      var curFormats = line.formats();\n      var prevFormats = this.quill.getFormat(range.index - 1, 1);\n      formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\n    }\n  }\n  // Check for astral symbols\n  var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\n  this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\n  }\n  this.quill.focus();\n}\n\nfunction handleDelete(range, context) {\n  // Check for astral symbols\n  var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\n  if (range.index >= this.quill.getLength() - length) return;\n  var formats = {},\n      nextLength = 0;\n\n  var _quill$getLine15 = this.quill.getLine(range.index),\n      _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\n      line = _quill$getLine16[0];\n\n  if (context.offset >= line.length() - 1) {\n    var _quill$getLine17 = this.quill.getLine(range.index + 1),\n        _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\n        next = _quill$getLine18[0];\n\n    if (next) {\n      var curFormats = line.formats();\n      var nextFormats = this.quill.getFormat(range.index, 1);\n      formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\n      nextLength = next.length();\n    }\n  }\n  this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\n  }\n}\n\nfunction handleDeleteRange(range) {\n  var lines = this.quill.getLines(range);\n  var formats = {};\n  if (lines.length > 1) {\n    var firstFormats = lines[0].formats();\n    var lastFormats = lines[lines.length - 1].formats();\n    formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\n  }\n  this.quill.deleteText(range, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\n  }\n  this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\n  this.quill.focus();\n}\n\nfunction handleEnter(range, context) {\n  var _this3 = this;\n\n  if (range.length > 0) {\n    this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\n  }\n  var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\n    if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\n      lineFormats[format] = context.format[format];\n    }\n    return lineFormats;\n  }, {});\n  this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER);\n  // Earlier scroll.deleteAt might have messed up our selection,\n  // so insertText's built in selection preservation is not reliable\n  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n  this.quill.focus();\n  Object.keys(context.format).forEach(function (name) {\n    if (lineFormats[name] != null) return;\n    if (Array.isArray(context.format[name])) return;\n    if (name === 'link') return;\n    _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\n  });\n}\n\nfunction makeCodeBlockHandler(indent) {\n  return {\n    key: Keyboard.keys.TAB,\n    shiftKey: !indent,\n    format: { 'code-block': true },\n    handler: function handler(range) {\n      var CodeBlock = _parchment2.default.query('code-block');\n      var index = range.index,\n          length = range.length;\n\n      var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\n          _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n          block = _quill$scroll$descend2[0],\n          offset = _quill$scroll$descend2[1];\n\n      if (block == null) return;\n      var scrollIndex = this.quill.getIndex(block);\n      var start = block.newlineIndex(offset, true) + 1;\n      var end = block.newlineIndex(scrollIndex + offset + length);\n      var lines = block.domNode.textContent.slice(start, end).split('\\n');\n      offset = 0;\n      lines.forEach(function (line, i) {\n        if (indent) {\n          block.insertAt(start + offset, CodeBlock.TAB);\n          offset += CodeBlock.TAB.length;\n          if (i === 0) {\n            index += CodeBlock.TAB.length;\n          } else {\n            length += CodeBlock.TAB.length;\n          }\n        } else if (line.startsWith(CodeBlock.TAB)) {\n          block.deleteAt(start + offset, CodeBlock.TAB.length);\n          offset -= CodeBlock.TAB.length;\n          if (i === 0) {\n            index -= CodeBlock.TAB.length;\n          } else {\n            length -= CodeBlock.TAB.length;\n          }\n        }\n        offset += line.length + 1;\n      });\n      this.quill.update(_quill2.default.sources.USER);\n      this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\n    }\n  };\n}\n\nfunction makeFormatHandler(format) {\n  return {\n    key: format[0].toUpperCase(),\n    shortKey: true,\n    handler: function handler(range, context) {\n      this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\n    }\n  };\n}\n\nfunction normalize(binding) {\n  if (typeof binding === 'string' || typeof binding === 'number') {\n    return normalize({ key: binding });\n  }\n  if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\n    binding = (0, _clone2.default)(binding, false);\n  }\n  if (typeof binding.key === 'string') {\n    if (Keyboard.keys[binding.key.toUpperCase()] != null) {\n      binding.key = Keyboard.keys[binding.key.toUpperCase()];\n    } else if (binding.key.length === 1) {\n      binding.key = binding.key.toUpperCase().charCodeAt(0);\n    } else {\n      return null;\n    }\n  }\n  if (binding.shortKey) {\n    binding[SHORTKEY] = binding.shortKey;\n    delete binding.shortKey;\n  }\n  return binding;\n}\n\nexports.default = Keyboard;\nexports.SHORTKEY = SHORTKEY;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cursor = function (_Parchment$Embed) {\n  _inherits(Cursor, _Parchment$Embed);\n\n  _createClass(Cursor, null, [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  function Cursor(domNode, selection) {\n    _classCallCheck(this, Cursor);\n\n    var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\n\n    _this.selection = selection;\n    _this.textNode = document.createTextNode(Cursor.CONTENTS);\n    _this.domNode.appendChild(_this.textNode);\n    _this._length = 0;\n    return _this;\n  }\n\n  _createClass(Cursor, [{\n    key: 'detach',\n    value: function detach() {\n      // super.detach() will also clear domNode.__blot\n      if (this.parent != null) this.parent.removeChild(this);\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (this._length !== 0) {\n        return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\n      }\n      var target = this,\n          index = 0;\n      while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\n        index += target.offset(target.parent);\n        target = target.parent;\n      }\n      if (target != null) {\n        this._length = Cursor.CONTENTS.length;\n        target.optimize();\n        target.formatAt(index, Cursor.CONTENTS.length, name, value);\n        this._length = 0;\n      }\n    }\n  }, {\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.textNode) return 0;\n      return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return this._length;\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      return [this.textNode, this.textNode.data.length];\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\n      this.parent = null;\n    }\n  }, {\n    key: 'restore',\n    value: function restore() {\n      if (this.selection.composing || this.parent == null) return;\n      var textNode = this.textNode;\n      var range = this.selection.getNativeRange();\n      var restoreText = void 0,\n          start = void 0,\n          end = void 0;\n      if (range != null && range.start.node === textNode && range.end.node === textNode) {\n        var _ref = [textNode, range.start.offset, range.end.offset];\n        restoreText = _ref[0];\n        start = _ref[1];\n        end = _ref[2];\n      }\n      // Link format will insert text outside of anchor tag\n      while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\n        this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n      }\n      if (this.textNode.data !== Cursor.CONTENTS) {\n        var text = this.textNode.data.split(Cursor.CONTENTS).join('');\n        if (this.next instanceof _text2.default) {\n          restoreText = this.next.domNode;\n          this.next.insertAt(0, text);\n          this.textNode.data = Cursor.CONTENTS;\n        } else {\n          this.textNode.data = text;\n          this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\n          this.textNode = document.createTextNode(Cursor.CONTENTS);\n          this.domNode.appendChild(this.textNode);\n        }\n      }\n      this.remove();\n      if (start != null) {\n        var _map = [start, end].map(function (offset) {\n          return Math.max(0, Math.min(restoreText.data.length, offset - 1));\n        });\n\n        var _map2 = _slicedToArray(_map, 2);\n\n        start = _map2[0];\n        end = _map2[1];\n\n        return {\n          startNode: restoreText,\n          startOffset: start,\n          endNode: restoreText,\n          endOffset: end\n        };\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      if (mutations.some(function (mutation) {\n        return mutation.type === 'characterData' && mutation.target === _this2.textNode;\n      })) {\n        var range = this.restore();\n        if (range) context.range = range;\n      }\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }]);\n\n  return Cursor;\n}(_parchment2.default.Embed);\n\nCursor.blotName = 'cursor';\nCursor.className = 'ql-cursor';\nCursor.tagName = 'span';\nCursor.CONTENTS = '\\uFEFF'; // Zero width no break space\n\n\nexports.default = Cursor;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = function (_Parchment$Container) {\n  _inherits(Container, _Parchment$Container);\n\n  function Container() {\n    _classCallCheck(this, Container);\n\n    return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\n  }\n\n  return Container;\n}(_parchment2.default.Container);\n\nContainer.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\n\nexports.default = Container;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorAttributor = function (_Parchment$Attributor) {\n  _inherits(ColorAttributor, _Parchment$Attributor);\n\n  function ColorAttributor() {\n    _classCallCheck(this, ColorAttributor);\n\n    return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\n  }\n\n  _createClass(ColorAttributor, [{\n    key: 'value',\n    value: function value(domNode) {\n      var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\n      if (!value.startsWith('rgb(')) return value;\n      value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n      return '#' + value.split(',').map(function (component) {\n        return ('00' + parseInt(component).toString(16)).slice(-2);\n      }).join('');\n    }\n  }]);\n\n  return ColorAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar ColorStyle = new ColorAttributor('color', 'color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.ColorAttributor = ColorAttributor;\nexports.ColorClass = ColorClass;\nexports.ColorStyle = ColorStyle;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitize = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Link = function (_Inline) {\n  _inherits(Link, _Inline);\n\n  function Link() {\n    _classCallCheck(this, Link);\n\n    return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\n  }\n\n  _createClass(Link, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\n      value = this.constructor.sanitize(value);\n      this.domNode.setAttribute('href', value);\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\n      value = this.sanitize(value);\n      node.setAttribute('href', value);\n      node.setAttribute('rel', 'noopener noreferrer');\n      node.setAttribute('target', '_blank');\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.getAttribute('href');\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n    }\n  }]);\n\n  return Link;\n}(_inline2.default);\n\nLink.blotName = 'link';\nLink.tagName = 'A';\nLink.SANITIZED_URL = 'about:blank';\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\nfunction _sanitize(url, protocols) {\n  var anchor = document.createElement('a');\n  anchor.href = url;\n  var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\nexports.default = Link;\nexports.sanitize = _sanitize;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _dropdown = __webpack_require__(107);\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar optionsCounter = 0;\n\nfunction toggleAriaAttribute(element, attribute) {\n  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\n}\n\nvar Picker = function () {\n  function Picker(select) {\n    var _this = this;\n\n    _classCallCheck(this, Picker);\n\n    this.select = select;\n    this.container = document.createElement('span');\n    this.buildPicker();\n    this.select.style.display = 'none';\n    this.select.parentNode.insertBefore(this.container, this.select);\n\n    this.label.addEventListener('mousedown', function () {\n      _this.togglePicker();\n    });\n    this.label.addEventListener('keydown', function (event) {\n      switch (event.keyCode) {\n        // Allows the \"Enter\" key to open the picker\n        case _keyboard2.default.keys.ENTER:\n          _this.togglePicker();\n          break;\n\n        // Allows the \"Escape\" key to close the picker\n        case _keyboard2.default.keys.ESCAPE:\n          _this.escape();\n          event.preventDefault();\n          break;\n        default:\n      }\n    });\n    this.select.addEventListener('change', this.update.bind(this));\n  }\n\n  _createClass(Picker, [{\n    key: 'togglePicker',\n    value: function togglePicker() {\n      this.container.classList.toggle('ql-expanded');\n      // Toggle aria-expanded and aria-hidden to make the picker accessible\n      toggleAriaAttribute(this.label, 'aria-expanded');\n      toggleAriaAttribute(this.options, 'aria-hidden');\n    }\n  }, {\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var _this2 = this;\n\n      var item = document.createElement('span');\n      item.tabIndex = '0';\n      item.setAttribute('role', 'button');\n\n      item.classList.add('ql-picker-item');\n      if (option.hasAttribute('value')) {\n        item.setAttribute('data-value', option.getAttribute('value'));\n      }\n      if (option.textContent) {\n        item.setAttribute('data-label', option.textContent);\n      }\n      item.addEventListener('click', function () {\n        _this2.selectItem(item, true);\n      });\n      item.addEventListener('keydown', function (event) {\n        switch (event.keyCode) {\n          // Allows the \"Enter\" key to select an item\n          case _keyboard2.default.keys.ENTER:\n            _this2.selectItem(item, true);\n            event.preventDefault();\n            break;\n\n          // Allows the \"Escape\" key to close the picker\n          case _keyboard2.default.keys.ESCAPE:\n            _this2.escape();\n            event.preventDefault();\n            break;\n          default:\n        }\n      });\n\n      return item;\n    }\n  }, {\n    key: 'buildLabel',\n    value: function buildLabel() {\n      var label = document.createElement('span');\n      label.classList.add('ql-picker-label');\n      label.innerHTML = _dropdown2.default;\n      label.tabIndex = '0';\n      label.setAttribute('role', 'button');\n      label.setAttribute('aria-expanded', 'false');\n      this.container.appendChild(label);\n      return label;\n    }\n  }, {\n    key: 'buildOptions',\n    value: function buildOptions() {\n      var _this3 = this;\n\n      var options = document.createElement('span');\n      options.classList.add('ql-picker-options');\n\n      // Don't want screen readers to read this until options are visible\n      options.setAttribute('aria-hidden', 'true');\n      options.tabIndex = '-1';\n\n      // Need a unique id for aria-controls\n      options.id = 'ql-picker-options-' + optionsCounter;\n      optionsCounter += 1;\n      this.label.setAttribute('aria-controls', options.id);\n\n      this.options = options;\n\n      [].slice.call(this.select.options).forEach(function (option) {\n        var item = _this3.buildItem(option);\n        options.appendChild(item);\n        if (option.selected === true) {\n          _this3.selectItem(item);\n        }\n      });\n      this.container.appendChild(options);\n    }\n  }, {\n    key: 'buildPicker',\n    value: function buildPicker() {\n      var _this4 = this;\n\n      [].slice.call(this.select.attributes).forEach(function (item) {\n        _this4.container.setAttribute(item.name, item.value);\n      });\n      this.container.classList.add('ql-picker');\n      this.label = this.buildLabel();\n      this.buildOptions();\n    }\n  }, {\n    key: 'escape',\n    value: function escape() {\n      var _this5 = this;\n\n      // Close menu and return focus to trigger label\n      this.close();\n      // Need setTimeout for accessibility to ensure that the browser executes\n      // focus on the next process thread and after any DOM content changes\n      setTimeout(function () {\n        return _this5.label.focus();\n      }, 1);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.container.classList.remove('ql-expanded');\n      this.label.setAttribute('aria-expanded', 'false');\n      this.options.setAttribute('aria-hidden', 'true');\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item) {\n      var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var selected = this.container.querySelector('.ql-selected');\n      if (item === selected) return;\n      if (selected != null) {\n        selected.classList.remove('ql-selected');\n      }\n      if (item == null) return;\n      item.classList.add('ql-selected');\n      this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\n      if (item.hasAttribute('data-value')) {\n        this.label.setAttribute('data-value', item.getAttribute('data-value'));\n      } else {\n        this.label.removeAttribute('data-value');\n      }\n      if (item.hasAttribute('data-label')) {\n        this.label.setAttribute('data-label', item.getAttribute('data-label'));\n      } else {\n        this.label.removeAttribute('data-label');\n      }\n      if (trigger) {\n        if (typeof Event === 'function') {\n          this.select.dispatchEvent(new Event('change'));\n        } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\n          // IE11\n          var event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n          this.select.dispatchEvent(event);\n        }\n        this.close();\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var option = void 0;\n      if (this.select.selectedIndex > -1) {\n        var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\n        option = this.select.options[this.select.selectedIndex];\n        this.selectItem(item);\n      } else {\n        this.selectItem(null);\n      }\n      var isActive = option != null && option !== this.select.querySelector('option[selected]');\n      this.label.classList.toggle('ql-active', isActive);\n    }\n  }]);\n\n  return Picker;\n}();\n\nexports.default = Picker;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _scroll = __webpack_require__(22);\n\nvar _scroll2 = _interopRequireDefault(_scroll);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _clipboard = __webpack_require__(55);\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _history = __webpack_require__(42);\n\nvar _history2 = _interopRequireDefault(_history);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_quill2.default.register({\n  'blots/block': _block2.default,\n  'blots/block/embed': _block.BlockEmbed,\n  'blots/break': _break2.default,\n  'blots/container': _container2.default,\n  'blots/cursor': _cursor2.default,\n  'blots/embed': _embed2.default,\n  'blots/inline': _inline2.default,\n  'blots/scroll': _scroll2.default,\n  'blots/text': _text2.default,\n\n  'modules/clipboard': _clipboard2.default,\n  'modules/history': _history2.default,\n  'modules/keyboard': _keyboard2.default\n});\n\n_parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\n\nexports.default = _quill2.default;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar ShadowBlot = /** @class */ (function () {\n    function ShadowBlot(domNode) {\n        this.domNode = domNode;\n        // @ts-ignore\n        this.domNode[Registry.DATA_KEY] = { blot: this };\n    }\n    Object.defineProperty(ShadowBlot.prototype, \"statics\", {\n        // Hack for accessing inherited static methods\n        get: function () {\n            return this.constructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShadowBlot.create = function (value) {\n        if (this.tagName == null) {\n            throw new Registry.ParchmentError('Blot definition missing tagName');\n        }\n        var node;\n        if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string') {\n                value = value.toUpperCase();\n                if (parseInt(value).toString() === value) {\n                    value = parseInt(value);\n                }\n            }\n            if (typeof value === 'number') {\n                node = document.createElement(this.tagName[value - 1]);\n            }\n            else if (this.tagName.indexOf(value) > -1) {\n                node = document.createElement(value);\n            }\n            else {\n                node = document.createElement(this.tagName[0]);\n            }\n        }\n        else {\n            node = document.createElement(this.tagName);\n        }\n        if (this.className) {\n            node.classList.add(this.className);\n        }\n        return node;\n    };\n    ShadowBlot.prototype.attach = function () {\n        if (this.parent != null) {\n            this.scroll = this.parent.scroll;\n        }\n    };\n    ShadowBlot.prototype.clone = function () {\n        var domNode = this.domNode.cloneNode(false);\n        return Registry.create(domNode);\n    };\n    ShadowBlot.prototype.detach = function () {\n        if (this.parent != null)\n            this.parent.removeChild(this);\n        // @ts-ignore\n        delete this.domNode[Registry.DATA_KEY];\n    };\n    ShadowBlot.prototype.deleteAt = function (index, length) {\n        var blot = this.isolate(index, length);\n        blot.remove();\n    };\n    ShadowBlot.prototype.formatAt = function (index, length, name, value) {\n        var blot = this.isolate(index, length);\n        if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\n            blot.wrap(name, value);\n        }\n        else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\n            var parent = Registry.create(this.statics.scope);\n            blot.wrap(parent);\n            parent.format(name, value);\n        }\n    };\n    ShadowBlot.prototype.insertAt = function (index, value, def) {\n        var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n        var ref = this.split(index);\n        this.parent.insertBefore(blot, ref);\n    };\n    ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\n        if (refBlot === void 0) { refBlot = null; }\n        if (this.parent != null) {\n            this.parent.children.remove(this);\n        }\n        var refDomNode = null;\n        parentBlot.children.insertBefore(this, refBlot);\n        if (refBlot != null) {\n            refDomNode = refBlot.domNode;\n        }\n        if (this.domNode.parentNode != parentBlot.domNode ||\n            this.domNode.nextSibling != refDomNode) {\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\n        }\n        this.parent = parentBlot;\n        this.attach();\n    };\n    ShadowBlot.prototype.isolate = function (index, length) {\n        var target = this.split(index);\n        target.split(length);\n        return target;\n    };\n    ShadowBlot.prototype.length = function () {\n        return 1;\n    };\n    ShadowBlot.prototype.offset = function (root) {\n        if (root === void 0) { root = this.parent; }\n        if (this.parent == null || this == root)\n            return 0;\n        return this.parent.children.offset(this) + this.parent.offset(root);\n    };\n    ShadowBlot.prototype.optimize = function (context) {\n        // TODO clean up once we use WeakMap\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY] != null) {\n            // @ts-ignore\n            delete this.domNode[Registry.DATA_KEY].mutations;\n        }\n    };\n    ShadowBlot.prototype.remove = function () {\n        if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        this.detach();\n    };\n    ShadowBlot.prototype.replace = function (target) {\n        if (target.parent == null)\n            return;\n        target.parent.insertBefore(this, target.next);\n        target.remove();\n    };\n    ShadowBlot.prototype.replaceWith = function (name, value) {\n        var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\n        replacement.replace(this);\n        return replacement;\n    };\n    ShadowBlot.prototype.split = function (index, force) {\n        return index === 0 ? this : this.next;\n    };\n    ShadowBlot.prototype.update = function (mutations, context) {\n        // Nothing to do by default\n    };\n    ShadowBlot.prototype.wrap = function (name, value) {\n        var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\n        if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next);\n        }\n        wrapper.appendChild(this);\n        return wrapper;\n    };\n    ShadowBlot.blotName = 'abstract';\n    return ShadowBlot;\n}());\nexports.default = ShadowBlot;\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar Registry = __webpack_require__(1);\nvar AttributorStore = /** @class */ (function () {\n    function AttributorStore(domNode) {\n        this.attributes = {};\n        this.domNode = domNode;\n        this.build();\n    }\n    AttributorStore.prototype.attribute = function (attribute, value) {\n        // verb\n        if (value) {\n            if (attribute.add(this.domNode, value)) {\n                if (attribute.value(this.domNode) != null) {\n                    this.attributes[attribute.attrName] = attribute;\n                }\n                else {\n                    delete this.attributes[attribute.attrName];\n                }\n            }\n        }\n        else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n        }\n    };\n    AttributorStore.prototype.build = function () {\n        var _this = this;\n        this.attributes = {};\n        var attributes = attributor_1.default.keys(this.domNode);\n        var classes = class_1.default.keys(this.domNode);\n        var styles = style_1.default.keys(this.domNode);\n        attributes\n            .concat(classes)\n            .concat(styles)\n            .forEach(function (name) {\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\n            if (attr instanceof attributor_1.default) {\n                _this.attributes[attr.attrName] = attr;\n            }\n        });\n    };\n    AttributorStore.prototype.copy = function (target) {\n        var _this = this;\n        Object.keys(this.attributes).forEach(function (key) {\n            var value = _this.attributes[key].value(_this.domNode);\n            target.format(key, value);\n        });\n    };\n    AttributorStore.prototype.move = function (target) {\n        var _this = this;\n        this.copy(target);\n        Object.keys(this.attributes).forEach(function (key) {\n            _this.attributes[key].remove(_this.domNode);\n        });\n        this.attributes = {};\n    };\n    AttributorStore.prototype.values = function () {\n        var _this = this;\n        return Object.keys(this.attributes).reduce(function (attributes, name) {\n            attributes[name] = _this.attributes[name].value(_this.domNode);\n            return attributes;\n        }, {});\n    };\n    return AttributorStore;\n}());\nexports.default = AttributorStore;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction match(node, prefix) {\n    var className = node.getAttribute('class') || '';\n    return className.split(/\\s+/).filter(function (name) {\n        return name.indexOf(prefix + \"-\") === 0;\n    });\n}\nvar ClassAttributor = /** @class */ (function (_super) {\n    __extends(ClassAttributor, _super);\n    function ClassAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ClassAttributor.keys = function (node) {\n        return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\n            return name\n                .split('-')\n                .slice(0, -1)\n                .join('-');\n        });\n    };\n    ClassAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        this.remove(node);\n        node.classList.add(this.keyName + \"-\" + value);\n        return true;\n    };\n    ClassAttributor.prototype.remove = function (node) {\n        var matches = match(node, this.keyName);\n        matches.forEach(function (name) {\n            node.classList.remove(name);\n        });\n        if (node.classList.length === 0) {\n            node.removeAttribute('class');\n        }\n    };\n    ClassAttributor.prototype.value = function (node) {\n        var result = match(node, this.keyName)[0] || '';\n        var value = result.slice(this.keyName.length + 1); // +1 for hyphen\n        return this.canAdd(node, value) ? value : '';\n    };\n    return ClassAttributor;\n}(attributor_1.default));\nexports.default = ClassAttributor;\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction camelize(name) {\n    var parts = name.split('-');\n    var rest = parts\n        .slice(1)\n        .map(function (part) {\n        return part[0].toUpperCase() + part.slice(1);\n    })\n        .join('');\n    return parts[0] + rest;\n}\nvar StyleAttributor = /** @class */ (function (_super) {\n    __extends(StyleAttributor, _super);\n    function StyleAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StyleAttributor.keys = function (node) {\n        return (node.getAttribute('style') || '').split(';').map(function (value) {\n            var arr = value.split(':');\n            return arr[0].trim();\n        });\n    };\n    StyleAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = value;\n        return true;\n    };\n    StyleAttributor.prototype.remove = function (node) {\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = '';\n        if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n        }\n    };\n    StyleAttributor.prototype.value = function (node) {\n        // @ts-ignore\n        var value = node.style[camelize(this.keyName)];\n        return this.canAdd(node, value) ? value : '';\n    };\n    return StyleAttributor;\n}(attributor_1.default));\nexports.default = StyleAttributor;\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Theme = function () {\n  function Theme(quill, options) {\n    _classCallCheck(this, Theme);\n\n    this.quill = quill;\n    this.options = options;\n    this.modules = {};\n  }\n\n  _createClass(Theme, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      Object.keys(this.options.modules).forEach(function (name) {\n        if (_this.modules[name] == null) {\n          _this.addModule(name);\n        }\n      });\n    }\n  }, {\n    key: 'addModule',\n    value: function addModule(name) {\n      var moduleClass = this.quill.constructor.import('modules/' + name);\n      this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\n      return this.modules[name];\n    }\n  }]);\n\n  return Theme;\n}();\n\nTheme.DEFAULTS = {\n  modules: {}\n};\nTheme.themes = {\n  'default': Theme\n};\n\nexports.default = Theme;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GUARD_TEXT = '\\uFEFF';\n\nvar Embed = function (_Parchment$Embed) {\n  _inherits(Embed, _Parchment$Embed);\n\n  function Embed(node) {\n    _classCallCheck(this, Embed);\n\n    var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\n\n    _this.contentNode = document.createElement('span');\n    _this.contentNode.setAttribute('contenteditable', false);\n    [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\n      _this.contentNode.appendChild(childNode);\n    });\n    _this.leftGuard = document.createTextNode(GUARD_TEXT);\n    _this.rightGuard = document.createTextNode(GUARD_TEXT);\n    _this.domNode.appendChild(_this.leftGuard);\n    _this.domNode.appendChild(_this.contentNode);\n    _this.domNode.appendChild(_this.rightGuard);\n    return _this;\n  }\n\n  _createClass(Embed, [{\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.leftGuard) return 0;\n      if (node === this.rightGuard) return 1;\n      return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'restore',\n    value: function restore(node) {\n      var range = void 0,\n          textNode = void 0;\n      var text = node.data.split(GUARD_TEXT).join('');\n      if (node === this.leftGuard) {\n        if (this.prev instanceof _text2.default) {\n          var prevLength = this.prev.length();\n          this.prev.insertAt(prevLength, text);\n          range = {\n            startNode: this.prev.domNode,\n            startOffset: prevLength + text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      } else if (node === this.rightGuard) {\n        if (this.next instanceof _text2.default) {\n          this.next.insertAt(0, text);\n          range = {\n            startNode: this.next.domNode,\n            startOffset: text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      }\n      node.data = GUARD_TEXT;\n      return range;\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      mutations.forEach(function (mutation) {\n        if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\n          var range = _this2.restore(mutation.target);\n          if (range) context.range = range;\n        }\n      });\n    }\n  }]);\n\n  return Embed;\n}(_parchment2.default.Embed);\n\nexports.default = Embed;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['right', 'center', 'justify']\n};\n\nvar AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\nvar AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\nvar AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\n\nexports.AlignAttribute = AlignAttribute;\nexports.AlignClass = AlignClass;\nexports.AlignStyle = AlignStyle;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BackgroundStyle = exports.BackgroundClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _color = __webpack_require__(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.BackgroundClass = BackgroundClass;\nexports.BackgroundStyle = BackgroundStyle;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['rtl']\n};\n\nvar DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\nvar DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\nvar DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\n\nexports.DirectionAttribute = DirectionAttribute;\nexports.DirectionClass = DirectionClass;\nexports.DirectionStyle = DirectionStyle;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FontClass = exports.FontStyle = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar config = {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['serif', 'monospace']\n};\n\nvar FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\n\nvar FontStyleAttributor = function (_Parchment$Attributor) {\n  _inherits(FontStyleAttributor, _Parchment$Attributor);\n\n  function FontStyleAttributor() {\n    _classCallCheck(this, FontStyleAttributor);\n\n    return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\n  }\n\n  _createClass(FontStyleAttributor, [{\n    key: 'value',\n    value: function value(node) {\n      return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\n    }\n  }]);\n\n  return FontStyleAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar FontStyle = new FontStyleAttributor('font', 'font-family', config);\n\nexports.FontStyle = FontStyle;\nexports.FontClass = FontClass;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SizeStyle = exports.SizeClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['small', 'large', 'huge']\n});\nvar SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['10px', '18px', '32px']\n});\n\nexports.SizeClass = SizeClass;\nexports.SizeStyle = SizeStyle;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  'align': {\n    '': __webpack_require__(76),\n    'center': __webpack_require__(77),\n    'right': __webpack_require__(78),\n    'justify': __webpack_require__(79)\n  },\n  'background': __webpack_require__(80),\n  'blockquote': __webpack_require__(81),\n  'bold': __webpack_require__(82),\n  'clean': __webpack_require__(83),\n  'code': __webpack_require__(58),\n  'code-block': __webpack_require__(58),\n  'color': __webpack_require__(84),\n  'direction': {\n    '': __webpack_require__(85),\n    'rtl': __webpack_require__(86)\n  },\n  'float': {\n    'center': __webpack_require__(87),\n    'full': __webpack_require__(88),\n    'left': __webpack_require__(89),\n    'right': __webpack_require__(90)\n  },\n  'formula': __webpack_require__(91),\n  'header': {\n    '1': __webpack_require__(92),\n    '2': __webpack_require__(93)\n  },\n  'italic': __webpack_require__(94),\n  'image': __webpack_require__(95),\n  'indent': {\n    '+1': __webpack_require__(96),\n    '-1': __webpack_require__(97)\n  },\n  'link': __webpack_require__(98),\n  'list': {\n    'ordered': __webpack_require__(99),\n    'bullet': __webpack_require__(100),\n    'check': __webpack_require__(101)\n  },\n  'script': {\n    'sub': __webpack_require__(102),\n    'super': __webpack_require__(103)\n  },\n  'strike': __webpack_require__(104),\n  'underline': __webpack_require__(105),\n  'video': __webpack_require__(106)\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLastChangeIndex = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar History = function (_Module) {\n  _inherits(History, _Module);\n\n  function History(quill, options) {\n    _classCallCheck(this, History);\n\n    var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\n\n    _this.lastRecorded = 0;\n    _this.ignoreChange = false;\n    _this.clear();\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\n      if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\n      if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\n        _this.record(delta, oldDelta);\n      } else {\n        _this.transform(delta);\n      }\n    });\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true }, _this.undo.bind(_this));\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true, shiftKey: true }, _this.redo.bind(_this));\n    if (/Win/i.test(navigator.platform)) {\n      _this.quill.keyboard.addBinding({ key: 'Y', shortKey: true }, _this.redo.bind(_this));\n    }\n    return _this;\n  }\n\n  _createClass(History, [{\n    key: 'change',\n    value: function change(source, dest) {\n      if (this.stack[source].length === 0) return;\n      var delta = this.stack[source].pop();\n      this.stack[dest].push(delta);\n      this.lastRecorded = 0;\n      this.ignoreChange = true;\n      this.quill.updateContents(delta[source], _quill2.default.sources.USER);\n      this.ignoreChange = false;\n      var index = getLastChangeIndex(delta[source]);\n      this.quill.setSelection(index);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.stack = { undo: [], redo: [] };\n    }\n  }, {\n    key: 'cutoff',\n    value: function cutoff() {\n      this.lastRecorded = 0;\n    }\n  }, {\n    key: 'record',\n    value: function record(changeDelta, oldDelta) {\n      if (changeDelta.ops.length === 0) return;\n      this.stack.redo = [];\n      var undoDelta = this.quill.getContents().diff(oldDelta);\n      var timestamp = Date.now();\n      if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n        var delta = this.stack.undo.pop();\n        undoDelta = undoDelta.compose(delta.undo);\n        changeDelta = delta.redo.compose(changeDelta);\n      } else {\n        this.lastRecorded = timestamp;\n      }\n      this.stack.undo.push({\n        redo: changeDelta,\n        undo: undoDelta\n      });\n      if (this.stack.undo.length > this.options.maxStack) {\n        this.stack.undo.shift();\n      }\n    }\n  }, {\n    key: 'redo',\n    value: function redo() {\n      this.change('redo', 'undo');\n    }\n  }, {\n    key: 'transform',\n    value: function transform(delta) {\n      this.stack.undo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n      this.stack.redo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n    }\n  }, {\n    key: 'undo',\n    value: function undo() {\n      this.change('undo', 'redo');\n    }\n  }]);\n\n  return History;\n}(_module2.default);\n\nHistory.DEFAULTS = {\n  delay: 1000,\n  maxStack: 100,\n  userOnly: false\n};\n\nfunction endsWithNewlineChange(delta) {\n  var lastOp = delta.ops[delta.ops.length - 1];\n  if (lastOp == null) return false;\n  if (lastOp.insert != null) {\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n  }\n  if (lastOp.attributes != null) {\n    return Object.keys(lastOp.attributes).some(function (attr) {\n      return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\n    });\n  }\n  return false;\n}\n\nfunction getLastChangeIndex(delta) {\n  var deleteLength = delta.reduce(function (length, op) {\n    length += op.delete || 0;\n    return length;\n  }, 0);\n  var changeIndex = delta.length() - deleteLength;\n  if (endsWithNewlineChange(delta)) {\n    changeIndex -= 1;\n  }\n  return changeIndex;\n}\n\nexports.default = History;\nexports.getLastChangeIndex = getLastChangeIndex;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BaseTooltip = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ALIGNS = [false, 'center', 'right', 'justify'];\n\nvar COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\n\nvar FONTS = [false, 'serif', 'monospace'];\n\nvar HEADERS = ['1', '2', '3', false];\n\nvar SIZES = ['small', false, 'large', 'huge'];\n\nvar BaseTheme = function (_Theme) {\n  _inherits(BaseTheme, _Theme);\n\n  function BaseTheme(quill, options) {\n    _classCallCheck(this, BaseTheme);\n\n    var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\n\n    var listener = function listener(e) {\n      if (!document.body.contains(quill.root)) {\n        return document.body.removeEventListener('click', listener);\n      }\n      if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\n        _this.tooltip.hide();\n      }\n      if (_this.pickers != null) {\n        _this.pickers.forEach(function (picker) {\n          if (!picker.container.contains(e.target)) {\n            picker.close();\n          }\n        });\n      }\n    };\n    quill.emitter.listenDOM('click', document.body, listener);\n    return _this;\n  }\n\n  _createClass(BaseTheme, [{\n    key: 'addModule',\n    value: function addModule(name) {\n      var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\n      if (name === 'toolbar') {\n        this.extendToolbar(module);\n      }\n      return module;\n    }\n  }, {\n    key: 'buildButtons',\n    value: function buildButtons(buttons, icons) {\n      buttons.forEach(function (button) {\n        var className = button.getAttribute('class') || '';\n        className.split(/\\s+/).forEach(function (name) {\n          if (!name.startsWith('ql-')) return;\n          name = name.slice('ql-'.length);\n          if (icons[name] == null) return;\n          if (name === 'direction') {\n            button.innerHTML = icons[name][''] + icons[name]['rtl'];\n          } else if (typeof icons[name] === 'string') {\n            button.innerHTML = icons[name];\n          } else {\n            var value = button.value || '';\n            if (value != null && icons[name][value]) {\n              button.innerHTML = icons[name][value];\n            }\n          }\n        });\n      });\n    }\n  }, {\n    key: 'buildPickers',\n    value: function buildPickers(selects, icons) {\n      var _this2 = this;\n\n      this.pickers = selects.map(function (select) {\n        if (select.classList.contains('ql-align')) {\n          if (select.querySelector('option') == null) {\n            fillSelect(select, ALIGNS);\n          }\n          return new _iconPicker2.default(select, icons.align);\n        } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n          var format = select.classList.contains('ql-background') ? 'background' : 'color';\n          if (select.querySelector('option') == null) {\n            fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\n          }\n          return new _colorPicker2.default(select, icons[format]);\n        } else {\n          if (select.querySelector('option') == null) {\n            if (select.classList.contains('ql-font')) {\n              fillSelect(select, FONTS);\n            } else if (select.classList.contains('ql-header')) {\n              fillSelect(select, HEADERS);\n            } else if (select.classList.contains('ql-size')) {\n              fillSelect(select, SIZES);\n            }\n          }\n          return new _picker2.default(select);\n        }\n      });\n      var update = function update() {\n        _this2.pickers.forEach(function (picker) {\n          picker.update();\n        });\n      };\n      this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\n    }\n  }]);\n\n  return BaseTheme;\n}(_theme2.default);\n\nBaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        formula: function formula() {\n          this.quill.theme.tooltip.edit('formula');\n        },\n        image: function image() {\n          var _this3 = this;\n\n          var fileInput = this.container.querySelector('input.ql-image[type=file]');\n          if (fileInput == null) {\n            fileInput = document.createElement('input');\n            fileInput.setAttribute('type', 'file');\n            fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\n            fileInput.classList.add('ql-image');\n            fileInput.addEventListener('change', function () {\n              if (fileInput.files != null && fileInput.files[0] != null) {\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                  var range = _this3.quill.getSelection(true);\n                  _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e.target.result }), _emitter2.default.sources.USER);\n                  _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\n                  fileInput.value = \"\";\n                };\n                reader.readAsDataURL(fileInput.files[0]);\n              }\n            });\n            this.container.appendChild(fileInput);\n          }\n          fileInput.click();\n        },\n        video: function video() {\n          this.quill.theme.tooltip.edit('video');\n        }\n      }\n    }\n  }\n});\n\nvar BaseTooltip = function (_Tooltip) {\n  _inherits(BaseTooltip, _Tooltip);\n\n  function BaseTooltip(quill, boundsContainer) {\n    _classCallCheck(this, BaseTooltip);\n\n    var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\n\n    _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\n    _this4.listen();\n    return _this4;\n  }\n\n  _createClass(BaseTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this5 = this;\n\n      this.textbox.addEventListener('keydown', function (event) {\n        if (_keyboard2.default.match(event, 'enter')) {\n          _this5.save();\n          event.preventDefault();\n        } else if (_keyboard2.default.match(event, 'escape')) {\n          _this5.cancel();\n          event.preventDefault();\n        }\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.hide();\n    }\n  }, {\n    key: 'edit',\n    value: function edit() {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\n      var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      this.root.classList.remove('ql-hidden');\n      this.root.classList.add('ql-editing');\n      if (preview != null) {\n        this.textbox.value = preview;\n      } else if (mode !== this.root.getAttribute('data-mode')) {\n        this.textbox.value = '';\n      }\n      this.position(this.quill.getBounds(this.quill.selection.savedRange));\n      this.textbox.select();\n      this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\n      this.root.setAttribute('data-mode', mode);\n    }\n  }, {\n    key: 'restoreFocus',\n    value: function restoreFocus() {\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.quill.focus();\n      this.quill.scrollingContainer.scrollTop = scrollTop;\n    }\n  }, {\n    key: 'save',\n    value: function save() {\n      var value = this.textbox.value;\n      switch (this.root.getAttribute('data-mode')) {\n        case 'link':\n          {\n            var scrollTop = this.quill.root.scrollTop;\n            if (this.linkRange) {\n              this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\n              delete this.linkRange;\n            } else {\n              this.restoreFocus();\n              this.quill.format('link', value, _emitter2.default.sources.USER);\n            }\n            this.quill.root.scrollTop = scrollTop;\n            break;\n          }\n        case 'video':\n          {\n            value = extractVideoUrl(value);\n          } // eslint-disable-next-line no-fallthrough\n        case 'formula':\n          {\n            if (!value) break;\n            var range = this.quill.getSelection(true);\n            if (range != null) {\n              var index = range.index + range.length;\n              this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\n              if (this.root.getAttribute('data-mode') === 'formula') {\n                this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\n              }\n              this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\n            }\n            break;\n          }\n        default:\n      }\n      this.textbox.value = '';\n      this.hide();\n    }\n  }]);\n\n  return BaseTooltip;\n}(_tooltip2.default);\n\nfunction extractVideoUrl(url) {\n  var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n  if (match) {\n    return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\n  }\n  if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\n    // eslint-disable-line no-cond-assign\n    return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\n  }\n  return url;\n}\n\nfunction fillSelect(select, values) {\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value === defaultValue) {\n      option.setAttribute('selected', 'selected');\n    } else {\n      option.setAttribute('value', value);\n    }\n    select.appendChild(option);\n  });\n}\n\nexports.BaseTooltip = BaseTooltip;\nexports.default = BaseTheme;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedList = /** @class */ (function () {\n    function LinkedList() {\n        this.head = this.tail = null;\n        this.length = 0;\n    }\n    LinkedList.prototype.append = function () {\n        var nodes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n        }\n        this.insertBefore(nodes[0], null);\n        if (nodes.length > 1) {\n            this.append.apply(this, nodes.slice(1));\n        }\n    };\n    LinkedList.prototype.contains = function (node) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            if (cur === node)\n                return true;\n        }\n        return false;\n    };\n    LinkedList.prototype.insertBefore = function (node, refNode) {\n        if (!node)\n            return;\n        node.next = refNode;\n        if (refNode != null) {\n            node.prev = refNode.prev;\n            if (refNode.prev != null) {\n                refNode.prev.next = node;\n            }\n            refNode.prev = node;\n            if (refNode === this.head) {\n                this.head = node;\n            }\n        }\n        else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n        }\n        else {\n            node.prev = null;\n            this.head = this.tail = node;\n        }\n        this.length += 1;\n    };\n    LinkedList.prototype.offset = function (target) {\n        var index = 0, cur = this.head;\n        while (cur != null) {\n            if (cur === target)\n                return index;\n            index += cur.length();\n            cur = cur.next;\n        }\n        return -1;\n    };\n    LinkedList.prototype.remove = function (node) {\n        if (!this.contains(node))\n            return;\n        if (node.prev != null)\n            node.prev.next = node.next;\n        if (node.next != null)\n            node.next.prev = node.prev;\n        if (node === this.head)\n            this.head = node.next;\n        if (node === this.tail)\n            this.tail = node.prev;\n        this.length -= 1;\n    };\n    LinkedList.prototype.iterator = function (curNode) {\n        if (curNode === void 0) { curNode = this.head; }\n        // TODO use yield when we can\n        return function () {\n            var ret = curNode;\n            if (curNode != null)\n                curNode = curNode.next;\n            return ret;\n        };\n    };\n    LinkedList.prototype.find = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            var length = cur.length();\n            if (index < length ||\n                (inclusive && index === length && (cur.next == null || cur.next.length() !== 0))) {\n                return [cur, index];\n            }\n            index -= length;\n        }\n        return [null, 0];\n    };\n    LinkedList.prototype.forEach = function (callback) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            callback(cur);\n        }\n    };\n    LinkedList.prototype.forEachAt = function (index, length, callback) {\n        if (length <= 0)\n            return;\n        var _a = this.find(index), startNode = _a[0], offset = _a[1];\n        var cur, curIndex = index - offset, next = this.iterator(startNode);\n        while ((cur = next()) && curIndex < index + length) {\n            var curLength = cur.length();\n            if (index > curIndex) {\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            }\n            else {\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n            curIndex += curLength;\n        }\n    };\n    LinkedList.prototype.map = function (callback) {\n        return this.reduce(function (memo, cur) {\n            memo.push(callback(cur));\n            return memo;\n        }, []);\n    };\n    LinkedList.prototype.reduce = function (callback, memo) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            memo = callback(memo, cur);\n        }\n        return memo;\n    };\n    return LinkedList;\n}());\nexports.default = LinkedList;\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar OBSERVER_CONFIG = {\n    attributes: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true,\n};\nvar MAX_OPTIMIZE_ITERATIONS = 100;\nvar ScrollBlot = /** @class */ (function (_super) {\n    __extends(ScrollBlot, _super);\n    function ScrollBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.scroll = _this;\n        _this.observer = new MutationObserver(function (mutations) {\n            _this.update(mutations);\n        });\n        _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\n        _this.attach();\n        return _this;\n    }\n    ScrollBlot.prototype.detach = function () {\n        _super.prototype.detach.call(this);\n        this.observer.disconnect();\n    };\n    ScrollBlot.prototype.deleteAt = function (index, length) {\n        this.update();\n        if (index === 0 && length === this.length()) {\n            this.children.forEach(function (child) {\n                child.remove();\n            });\n        }\n        else {\n            _super.prototype.deleteAt.call(this, index, length);\n        }\n    };\n    ScrollBlot.prototype.formatAt = function (index, length, name, value) {\n        this.update();\n        _super.prototype.formatAt.call(this, index, length, name, value);\n    };\n    ScrollBlot.prototype.insertAt = function (index, value, def) {\n        this.update();\n        _super.prototype.insertAt.call(this, index, value, def);\n    };\n    ScrollBlot.prototype.optimize = function (mutations, context) {\n        var _this = this;\n        if (mutations === void 0) { mutations = []; }\n        if (context === void 0) { context = {}; }\n        _super.prototype.optimize.call(this, context);\n        // We must modify mutations directly, cannot make copy and then modify\n        var records = [].slice.call(this.observer.takeRecords());\n        // Array.push currently seems to be implemented by a non-tail recursive function\n        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n        while (records.length > 0)\n            mutations.push(records.pop());\n        // TODO use WeakMap\n        var mark = function (blot, markParent) {\n            if (markParent === void 0) { markParent = true; }\n            if (blot == null || blot === _this)\n                return;\n            if (blot.domNode.parentNode == null)\n                return;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [];\n            }\n            if (markParent)\n                mark(blot.parent);\n        };\n        var optimize = function (blot) {\n            // Post-order traversal\n            if (\n            // @ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null ||\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations == null) {\n                return;\n            }\n            if (blot instanceof container_1.default) {\n                blot.children.forEach(optimize);\n            }\n            blot.optimize(context);\n        };\n        var remaining = mutations;\n        for (var i = 0; remaining.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n                throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n            remaining.forEach(function (mutation) {\n                var blot = Registry.find(mutation.target, true);\n                if (blot == null)\n                    return;\n                if (blot.domNode === mutation.target) {\n                    if (mutation.type === 'childList') {\n                        mark(Registry.find(mutation.previousSibling, false));\n                        [].forEach.call(mutation.addedNodes, function (node) {\n                            var child = Registry.find(node, false);\n                            mark(child, false);\n                            if (child instanceof container_1.default) {\n                                child.children.forEach(function (grandChild) {\n                                    mark(grandChild, false);\n                                });\n                            }\n                        });\n                    }\n                    else if (mutation.type === 'attributes') {\n                        mark(blot.prev);\n                    }\n                }\n                mark(blot);\n            });\n            this.children.forEach(optimize);\n            remaining = [].slice.call(this.observer.takeRecords());\n            records = remaining.slice();\n            while (records.length > 0)\n                mutations.push(records.pop());\n        }\n    };\n    ScrollBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (context === void 0) { context = {}; }\n        mutations = mutations || this.observer.takeRecords();\n        // TODO use WeakMap\n        mutations\n            .map(function (mutation) {\n            var blot = Registry.find(mutation.target, true);\n            if (blot == null)\n                return null;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [mutation];\n                return blot;\n            }\n            else {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\n                return null;\n            }\n        })\n            .forEach(function (blot) {\n            if (blot == null ||\n                blot === _this ||\n                //@ts-ignore\n                blot.domNode[Registry.DATA_KEY] == null)\n                return;\n            // @ts-ignore\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\n        });\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY].mutations != null) {\n            // @ts-ignore\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\n        }\n        this.optimize(mutations, context);\n    };\n    ScrollBlot.blotName = 'scroll';\n    ScrollBlot.defaultChild = 'block';\n    ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\n    ScrollBlot.tagName = 'DIV';\n    return ScrollBlot;\n}(container_1.default));\nexports.default = ScrollBlot;\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\n// Shallow object comparison\nfunction isEqual(obj1, obj2) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length)\n        return false;\n    // @ts-ignore\n    for (var prop in obj1) {\n        // @ts-ignore\n        if (obj1[prop] !== obj2[prop])\n            return false;\n    }\n    return true;\n}\nvar InlineBlot = /** @class */ (function (_super) {\n    __extends(InlineBlot, _super);\n    function InlineBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InlineBlot.formats = function (domNode) {\n        if (domNode.tagName === InlineBlot.tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    InlineBlot.prototype.format = function (name, value) {\n        var _this = this;\n        if (name === this.statics.blotName && !value) {\n            this.children.forEach(function (child) {\n                if (!(child instanceof format_1.default)) {\n                    child = child.wrap(InlineBlot.blotName, true);\n                }\n                _this.attributes.copy(child);\n            });\n            this.unwrap();\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    InlineBlot.prototype.formatAt = function (index, length, name, value) {\n        if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\n            var blot = this.isolate(index, length);\n            blot.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    InlineBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        var formats = this.formats();\n        if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n        }\n        var next = this.next;\n        if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n        }\n    };\n    InlineBlot.blotName = 'inline';\n    InlineBlot.scope = Registry.Scope.INLINE_BLOT;\n    InlineBlot.tagName = 'SPAN';\n    return InlineBlot;\n}(format_1.default));\nexports.default = InlineBlot;\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\nvar BlockBlot = /** @class */ (function (_super) {\n    __extends(BlockBlot, _super);\n    function BlockBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BlockBlot.formats = function (domNode) {\n        var tagName = Registry.query(BlockBlot.blotName).tagName;\n        if (domNode.tagName === tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    BlockBlot.prototype.format = function (name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) == null) {\n            return;\n        }\n        else if (name === this.statics.blotName && !value) {\n            this.replaceWith(BlockBlot.blotName);\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    BlockBlot.prototype.formatAt = function (index, length, name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) != null) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    BlockBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\n            // Insert text or inline\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n        else {\n            var after = this.split(index);\n            var blot = Registry.create(value, def);\n            after.parent.insertBefore(blot, after);\n        }\n    };\n    BlockBlot.prototype.update = function (mutations, context) {\n        if (navigator.userAgent.match(/Trident/)) {\n            this.build();\n        }\n        else {\n            _super.prototype.update.call(this, mutations, context);\n        }\n    };\n    BlockBlot.blotName = 'block';\n    BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\n    BlockBlot.tagName = 'P';\n    return BlockBlot;\n}(format_1.default));\nexports.default = BlockBlot;\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar EmbedBlot = /** @class */ (function (_super) {\n    __extends(EmbedBlot, _super);\n    function EmbedBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmbedBlot.formats = function (domNode) {\n        return undefined;\n    };\n    EmbedBlot.prototype.format = function (name, value) {\n        // super.formatAt wraps, which is what we want in general,\n        // but this allows subclasses to overwrite for formats\n        // that just apply to particular embeds\n        _super.prototype.formatAt.call(this, 0, this.length(), name, value);\n    };\n    EmbedBlot.prototype.formatAt = function (index, length, name, value) {\n        if (index === 0 && length === this.length()) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    EmbedBlot.prototype.formats = function () {\n        return this.statics.formats(this.domNode);\n    };\n    return EmbedBlot;\n}(leaf_1.default));\nexports.default = EmbedBlot;\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar Registry = __webpack_require__(1);\nvar TextBlot = /** @class */ (function (_super) {\n    __extends(TextBlot, _super);\n    function TextBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.text = _this.statics.value(_this.domNode);\n        return _this;\n    }\n    TextBlot.create = function (value) {\n        return document.createTextNode(value);\n    };\n    TextBlot.value = function (domNode) {\n        var text = domNode.data;\n        // @ts-ignore\n        if (text['normalize'])\n            text = text['normalize']();\n        return text;\n    };\n    TextBlot.prototype.deleteAt = function (index, length) {\n        this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\n    };\n    TextBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node) {\n            return offset;\n        }\n        return -1;\n    };\n    TextBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n        }\n        else {\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n    };\n    TextBlot.prototype.length = function () {\n        return this.text.length;\n    };\n    TextBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        this.text = this.statics.value(this.domNode);\n        if (this.text.length === 0) {\n            this.remove();\n        }\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n        }\n    };\n    TextBlot.prototype.position = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        return [this.domNode, index];\n    };\n    TextBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = Registry.create(this.domNode.splitText(index));\n        this.parent.insertBefore(after, this.next);\n        this.text = this.statics.value(this.domNode);\n        return after;\n    };\n    TextBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (mutations.some(function (mutation) {\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\n        })) {\n            this.text = this.statics.value(this.domNode);\n        }\n    };\n    TextBlot.prototype.value = function () {\n        return this.text;\n    };\n    TextBlot.blotName = 'text';\n    TextBlot.scope = Registry.Scope.INLINE_BLOT;\n    return TextBlot;\n}(leaf_1.default));\nexports.default = TextBlot;\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar elem = document.createElement('div');\nelem.classList.toggle('test-class', false);\nif (elem.classList.contains('test-class')) {\n  var _toggle = DOMTokenList.prototype.toggle;\n  DOMTokenList.prototype.toggle = function (token, force) {\n    if (arguments.length > 1 && !this.contains(token) === !force) {\n      return force;\n    } else {\n      return _toggle.call(this, token);\n    }\n  };\n}\n\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function (searchString, position) {\n    position = position || 0;\n    return this.substr(position, searchString.length) === searchString;\n  };\n}\n\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, \"find\", {\n    value: function value(predicate) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return value;\n        }\n      }\n      return undefined;\n    }\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Disable resizing in Firefox\n  document.execCommand(\"enableObjectResizing\", false, false);\n  // Disable automatic linkifying in IE11\n  document.execCommand(\"autoUrlDetect\", false, false);\n});\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {Int} cursor_pos Expected edit position in text1 (optional)\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2, cursor_pos) {\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  // Check cursor_pos within bounds\n  if (cursor_pos < 0 || text1.length < cursor_pos) {\n    cursor_pos = null;\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs);\n  if (cursor_pos != null) {\n    diffs = fix_cursor(diffs, cursor_pos);\n  }\n  diffs = fix_emoji(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\n             [DIFF_EQUAL, shorttext],\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\n                                           shorttext.substring(j));\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\n                                           shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n */\nfunction diff_cleanupMerge(diffs) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL,\n                                    text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          if (count_delete === 0) {\n            diffs.splice(pointer - count_insert,\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\n          } else if (count_insert === 0) {\n            diffs.splice(pointer - count_delete,\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\n          } else {\n            diffs.splice(pointer - count_delete - count_insert,\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\n                [DIFF_INSERT, text_insert]);\n          }\n          pointer = pointer - count_delete - count_insert +\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs);\n  }\n};\n\n\nvar diff = diff_main;\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\nmodule.exports = diff;\n\n/*\n * Modify a diff such that the cursor position points to the start of a change:\n * E.g.\n *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\n *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\n *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\n *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} A tuple [cursor location in the modified diff, modified diff]\n */\nfunction cursor_normalize_diff (diffs, cursor_pos) {\n  if (cursor_pos === 0) {\n    return [DIFF_EQUAL, diffs];\n  }\n  for (var current_pos = 0, i = 0; i < diffs.length; i++) {\n    var d = diffs[i];\n    if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\n      var next_pos = current_pos + d[1].length;\n      if (cursor_pos === next_pos) {\n        return [i + 1, diffs];\n      } else if (cursor_pos < next_pos) {\n        // copy to prevent side effects\n        diffs = diffs.slice();\n        // split d into two diff changes\n        var split_pos = cursor_pos - current_pos;\n        var d_left = [d[0], d[1].slice(0, split_pos)];\n        var d_right = [d[0], d[1].slice(split_pos)];\n        diffs.splice(i, 1, d_left, d_right);\n        return [i + 1, diffs];\n      } else {\n        current_pos = next_pos;\n      }\n    }\n  }\n  throw new Error('cursor_pos is out of bounds!')\n}\n\n/*\n * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\n *\n * Case 1)\n *   Check if a naive shift is possible:\n *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\n *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\n * Case 2)\n *   Check if the following shifts are possible:\n *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\n *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\n *         ^            ^\n *         d          d_next\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} Array of diff tuples\n */\nfunction fix_cursor (diffs, cursor_pos) {\n  var norm = cursor_normalize_diff(diffs, cursor_pos);\n  var ndiffs = norm[1];\n  var cursor_pointer = norm[0];\n  var d = ndiffs[cursor_pointer];\n  var d_next = ndiffs[cursor_pointer + 1];\n\n  if (d == null) {\n    // Text was deleted from end of original string,\n    // cursor is now out of bounds in new string\n    return diffs;\n  } else if (d[0] !== DIFF_EQUAL) {\n    // A modification happened at the cursor location.\n    // This is the expected outcome, so we can return the original diff.\n    return diffs;\n  } else {\n    if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\n      // Case 1)\n      // It is possible to perform a naive shift\n      ndiffs.splice(cursor_pointer, 2, d_next, d)\n      return merge_tuples(ndiffs, cursor_pointer, 2)\n    } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\n      // Case 2)\n      // d[1] is a prefix of d_next[1]\n      // We can assume that d_next[0] !== 0, since d[0] === 0\n      // Shift edit locations..\n      ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\n      var suffix = d_next[1].slice(d[1].length);\n      if (suffix.length > 0) {\n        ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\n      }\n      return merge_tuples(ndiffs, cursor_pointer, 3)\n    } else {\n      // Not possible to perform any modification\n      return diffs;\n    }\n  }\n}\n\n/*\n * Check diff did not split surrogate pairs.\n * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\n *     '\\uD83D\\uDC36' === '🐶', '\\uD83D\\uDC2F' === '🐯'\n *\n * @param {Array} diffs Array of diff tuples\n * @return {Array} Array of diff tuples\n */\nfunction fix_emoji (diffs) {\n  var compact = false;\n  var starts_with_pair_end = function(str) {\n    return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\n  }\n  var ends_with_pair_start = function(str) {\n    return str.charCodeAt(str.length-1) >= 0xD800 && str.charCodeAt(str.length-1) <= 0xDBFF;\n  }\n  for (var i = 2; i < diffs.length; i += 1) {\n    if (diffs[i-2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i-2][1]) &&\n        diffs[i-1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i-1][1]) &&\n        diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\n      compact = true;\n\n      diffs[i-1][1] = diffs[i-2][1].slice(-1) + diffs[i-1][1];\n      diffs[i][1] = diffs[i-2][1].slice(-1) + diffs[i][1];\n\n      diffs[i-2][1] = diffs[i-2][1].slice(0, -1);\n    }\n  }\n  if (!compact) {\n    return diffs;\n  }\n  var fixed_diffs = [];\n  for (var i = 0; i < diffs.length; i += 1) {\n    if (diffs[i][1].length > 0) {\n      fixed_diffs.push(diffs[i]);\n    }\n  }\n  return fixed_diffs;\n}\n\n/*\n * Try to merge tuples with their neigbors in a given range.\n * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\n *\n * @param {Array} diffs Array of diff tuples.\n * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\n * @param {Int} length Number of consecutive elements to check.\n * @return {Array} Array of merged diff tuples.\n */\nfunction merge_tuples (diffs, start, length) {\n  // Check from (start-1) to (start+length).\n  for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\n    if (i + 1 < diffs.length) {\n      var left_d = diffs[i];\n      var right_d = diffs[i+1];\n      if (left_d[0] === right_d[1]) {\n        diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\n      }\n    }\n  }\n  return diffs;\n}\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\nexports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nvar supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend2 = __webpack_require__(3);\n\nvar _extend3 = _interopRequireDefault(_extend2);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _align = __webpack_require__(36);\n\nvar _background = __webpack_require__(37);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _color = __webpack_require__(26);\n\nvar _direction = __webpack_require__(38);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:clipboard');\n\nvar DOM_KEY = '__ql-matcher';\n\nvar CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\n\nvar ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar Clipboard = function (_Module) {\n  _inherits(Clipboard, _Module);\n\n  function Clipboard(quill, options) {\n    _classCallCheck(this, Clipboard);\n\n    var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\n\n    _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\n    _this.container = _this.quill.addContainer('ql-clipboard');\n    _this.container.setAttribute('contenteditable', true);\n    _this.container.setAttribute('tabindex', -1);\n    _this.matchers = [];\n    CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          selector = _ref2[0],\n          matcher = _ref2[1];\n\n      if (!options.matchVisual && matcher === matchSpacing) return;\n      _this.addMatcher(selector, matcher);\n    });\n    return _this;\n  }\n\n  _createClass(Clipboard, [{\n    key: 'addMatcher',\n    value: function addMatcher(selector, matcher) {\n      this.matchers.push([selector, matcher]);\n    }\n  }, {\n    key: 'convert',\n    value: function convert(html) {\n      if (typeof html === 'string') {\n        this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\n        return this.convert();\n      }\n      var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\n      if (formats[_code2.default.blotName]) {\n        var text = this.container.innerText;\n        this.container.innerHTML = '';\n        return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\n      }\n\n      var _prepareMatching = this.prepareMatching(),\n          _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\n          elementMatchers = _prepareMatching2[0],\n          textMatchers = _prepareMatching2[1];\n\n      var delta = traverse(this.container, elementMatchers, textMatchers);\n      // Remove trailing newline\n      if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\n        delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\n      }\n      debug.log('convert', this.container.innerHTML, delta);\n      this.container.innerHTML = '';\n      return delta;\n    }\n  }, {\n    key: 'dangerouslyPasteHTML',\n    value: function dangerouslyPasteHTML(index, html) {\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\n\n      if (typeof index === 'string') {\n        this.quill.setContents(this.convert(index), html);\n        this.quill.setSelection(0, _quill2.default.sources.SILENT);\n      } else {\n        var paste = this.convert(html);\n        this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\n        this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\n      }\n    }\n  }, {\n    key: 'onPaste',\n    value: function onPaste(e) {\n      var _this2 = this;\n\n      if (e.defaultPrevented || !this.quill.isEnabled()) return;\n      var range = this.quill.getSelection();\n      var delta = new _quillDelta2.default().retain(range.index);\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.container.focus();\n      this.quill.selection.update(_quill2.default.sources.SILENT);\n      setTimeout(function () {\n        delta = delta.concat(_this2.convert()).delete(range.length);\n        _this2.quill.updateContents(delta, _quill2.default.sources.USER);\n        // range.length contributes to delta.length()\n        _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\n        _this2.quill.scrollingContainer.scrollTop = scrollTop;\n        _this2.quill.focus();\n      }, 1);\n    }\n  }, {\n    key: 'prepareMatching',\n    value: function prepareMatching() {\n      var _this3 = this;\n\n      var elementMatchers = [],\n          textMatchers = [];\n      this.matchers.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            selector = _pair[0],\n            matcher = _pair[1];\n\n        switch (selector) {\n          case Node.TEXT_NODE:\n            textMatchers.push(matcher);\n            break;\n          case Node.ELEMENT_NODE:\n            elementMatchers.push(matcher);\n            break;\n          default:\n            [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\n              // TODO use weakmap\n              node[DOM_KEY] = node[DOM_KEY] || [];\n              node[DOM_KEY].push(matcher);\n            });\n            break;\n        }\n      });\n      return [elementMatchers, textMatchers];\n    }\n  }]);\n\n  return Clipboard;\n}(_module2.default);\n\nClipboard.DEFAULTS = {\n  matchers: [],\n  matchVisual: true\n};\n\nfunction applyFormat(delta, format, value) {\n  if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\n    return Object.keys(format).reduce(function (delta, key) {\n      return applyFormat(delta, key, format[key]);\n    }, delta);\n  } else {\n    return delta.reduce(function (delta, op) {\n      if (op.attributes && op.attributes[format]) {\n        return delta.push(op);\n      } else {\n        return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\n      }\n    }, new _quillDelta2.default());\n  }\n}\n\nfunction computeStyle(node) {\n  if (node.nodeType !== Node.ELEMENT_NODE) return {};\n  var DOM_KEY = '__ql-computed-style';\n  return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\n}\n\nfunction deltaEndsWith(delta, text) {\n  var endText = \"\";\n  for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\n    var op = delta.ops[i];\n    if (typeof op.insert !== 'string') break;\n    endText = op.insert + endText;\n  }\n  return endText.slice(-1 * text.length) === text;\n}\n\nfunction isLine(node) {\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\n  var style = computeStyle(node);\n  return ['block', 'list-item'].indexOf(style.display) > -1;\n}\n\nfunction traverse(node, elementMatchers, textMatchers) {\n  // Post-order\n  if (node.nodeType === node.TEXT_NODE) {\n    return textMatchers.reduce(function (delta, matcher) {\n      return matcher(node, delta);\n    }, new _quillDelta2.default());\n  } else if (node.nodeType === node.ELEMENT_NODE) {\n    return [].reduce.call(node.childNodes || [], function (delta, childNode) {\n      var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\n      if (childNode.nodeType === node.ELEMENT_NODE) {\n        childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n        childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n      }\n      return delta.concat(childrenDelta);\n    }, new _quillDelta2.default());\n  } else {\n    return new _quillDelta2.default();\n  }\n}\n\nfunction matchAlias(format, node, delta) {\n  return applyFormat(delta, format, true);\n}\n\nfunction matchAttributor(node, delta) {\n  var attributes = _parchment2.default.Attributor.Attribute.keys(node);\n  var classes = _parchment2.default.Attributor.Class.keys(node);\n  var styles = _parchment2.default.Attributor.Style.keys(node);\n  var formats = {};\n  attributes.concat(classes).concat(styles).forEach(function (name) {\n    var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\n    if (attr != null) {\n      formats[attr.attrName] = attr.value(node);\n      if (formats[attr.attrName]) return;\n    }\n    attr = ATTRIBUTE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n    attr = STYLE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      attr = STYLE_ATTRIBUTORS[name];\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n  });\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  return delta;\n}\n\nfunction matchBlot(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null) return delta;\n  if (match.prototype instanceof _parchment2.default.Embed) {\n    var embed = {};\n    var value = match.value(node);\n    if (value != null) {\n      embed[match.blotName] = value;\n      delta = new _quillDelta2.default().insert(embed, match.formats(node));\n    }\n  } else if (typeof match.formats === 'function') {\n    delta = applyFormat(delta, match.blotName, match.formats(node));\n  }\n  return delta;\n}\n\nfunction matchBreak(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    delta.insert('\\n');\n  }\n  return delta;\n}\n\nfunction matchIgnore() {\n  return new _quillDelta2.default();\n}\n\nfunction matchIndent(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\n    return delta;\n  }\n  var indent = -1,\n      parent = node.parentNode;\n  while (!parent.classList.contains('ql-clipboard')) {\n    if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\n      indent += 1;\n    }\n    parent = parent.parentNode;\n  }\n  if (indent <= 0) return delta;\n  return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent: indent }));\n}\n\nfunction matchNewline(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchSpacing(node, delta) {\n  if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\n    var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\n    if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchStyles(node, delta) {\n  var formats = {};\n  var style = node.style || {};\n  if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\n    formats.italic = true;\n  }\n  if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\n    formats.bold = true;\n  }\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  if (parseFloat(style.textIndent || 0) > 0) {\n    // Could be 0.5in\n    delta = new _quillDelta2.default().insert('\\t').concat(delta);\n  }\n  return delta;\n}\n\nfunction matchText(node, delta) {\n  var text = node.data;\n  // Word represents empty line with <o:p>&nbsp;</o:p>\n  if (node.parentNode.tagName === 'O:P') {\n    return delta.insert(text.trim());\n  }\n  if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\n    return delta;\n  }\n  if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\n    // eslint-disable-next-line func-style\n    var replacer = function replacer(collapse, match) {\n      match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n      return match.length < 1 && collapse ? ' ' : match;\n    };\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n    }\n    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n    }\n  }\n  return delta.insert(text);\n}\n\nexports.default = Clipboard;\nexports.matchAttributor = matchAttributor;\nexports.matchBlot = matchBlot;\nexports.matchNewline = matchNewline;\nexports.matchSpacing = matchSpacing;\nexports.matchText = matchText;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Bold = function (_Inline) {\n  _inherits(Bold, _Inline);\n\n  function Bold() {\n    _classCallCheck(this, Bold);\n\n    return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\n  }\n\n  _createClass(Bold, [{\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\n      if (this.domNode.tagName !== this.statics.tagName[0]) {\n        this.replaceWith(this.statics.blotName);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create() {\n      return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return Bold;\n}(_inline2.default);\n\nBold.blotName = 'bold';\nBold.tagName = ['STRONG', 'B'];\n\nexports.default = Bold;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addControls = exports.default = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:toolbar');\n\nvar Toolbar = function (_Module) {\n  _inherits(Toolbar, _Module);\n\n  function Toolbar(quill, options) {\n    _classCallCheck(this, Toolbar);\n\n    var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\n\n    if (Array.isArray(_this.options.container)) {\n      var container = document.createElement('div');\n      addControls(container, _this.options.container);\n      quill.container.parentNode.insertBefore(container, quill.container);\n      _this.container = container;\n    } else if (typeof _this.options.container === 'string') {\n      _this.container = document.querySelector(_this.options.container);\n    } else {\n      _this.container = _this.options.container;\n    }\n    if (!(_this.container instanceof HTMLElement)) {\n      var _ret;\n\n      return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\n    }\n    _this.container.classList.add('ql-toolbar');\n    _this.controls = [];\n    _this.handlers = {};\n    Object.keys(_this.options.handlers).forEach(function (format) {\n      _this.addHandler(format, _this.options.handlers[format]);\n    });\n    [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\n      _this.attach(input);\n    });\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\n      if (type === _quill2.default.events.SELECTION_CHANGE) {\n        _this.update(range);\n      }\n    });\n    _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      var _this$quill$selection = _this.quill.selection.getRange(),\n          _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\n          range = _this$quill$selection2[0]; // quill.getSelection triggers update\n\n\n      _this.update(range);\n    });\n    return _this;\n  }\n\n  _createClass(Toolbar, [{\n    key: 'addHandler',\n    value: function addHandler(format, handler) {\n      this.handlers[format] = handler;\n    }\n  }, {\n    key: 'attach',\n    value: function attach(input) {\n      var _this2 = this;\n\n      var format = [].find.call(input.classList, function (className) {\n        return className.indexOf('ql-') === 0;\n      });\n      if (!format) return;\n      format = format.slice('ql-'.length);\n      if (input.tagName === 'BUTTON') {\n        input.setAttribute('type', 'button');\n      }\n      if (this.handlers[format] == null) {\n        if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\n          debug.warn('ignoring attaching to disabled format', format, input);\n          return;\n        }\n        if (_parchment2.default.query(format) == null) {\n          debug.warn('ignoring attaching to nonexistent format', format, input);\n          return;\n        }\n      }\n      var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n      input.addEventListener(eventName, function (e) {\n        var value = void 0;\n        if (input.tagName === 'SELECT') {\n          if (input.selectedIndex < 0) return;\n          var selected = input.options[input.selectedIndex];\n          if (selected.hasAttribute('selected')) {\n            value = false;\n          } else {\n            value = selected.value || false;\n          }\n        } else {\n          if (input.classList.contains('ql-active')) {\n            value = false;\n          } else {\n            value = input.value || !input.hasAttribute('value');\n          }\n          e.preventDefault();\n        }\n        _this2.quill.focus();\n\n        var _quill$selection$getR = _this2.quill.selection.getRange(),\n            _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\n            range = _quill$selection$getR2[0];\n\n        if (_this2.handlers[format] != null) {\n          _this2.handlers[format].call(_this2, value);\n        } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\n          value = prompt('Enter ' + format);\n          if (!value) return;\n          _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\n        } else {\n          _this2.quill.format(format, value, _quill2.default.sources.USER);\n        }\n        _this2.update(range);\n      });\n      // TODO use weakmap\n      this.controls.push([format, input]);\n    }\n  }, {\n    key: 'update',\n    value: function update(range) {\n      var formats = range == null ? {} : this.quill.getFormat(range);\n      this.controls.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            format = _pair[0],\n            input = _pair[1];\n\n        if (input.tagName === 'SELECT') {\n          var option = void 0;\n          if (range == null) {\n            option = null;\n          } else if (formats[format] == null) {\n            option = input.querySelector('option[selected]');\n          } else if (!Array.isArray(formats[format])) {\n            var value = formats[format];\n            if (typeof value === 'string') {\n              value = value.replace(/\\\"/g, '\\\\\"');\n            }\n            option = input.querySelector('option[value=\"' + value + '\"]');\n          }\n          if (option == null) {\n            input.value = ''; // TODO make configurable?\n            input.selectedIndex = -1;\n          } else {\n            option.selected = true;\n          }\n        } else {\n          if (range == null) {\n            input.classList.remove('ql-active');\n          } else if (input.hasAttribute('value')) {\n            // both being null should match (default values)\n            // '1' should match with 1 (headers)\n            var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\n            input.classList.toggle('ql-active', isActive);\n          } else {\n            input.classList.toggle('ql-active', formats[format] != null);\n          }\n        }\n      });\n    }\n  }]);\n\n  return Toolbar;\n}(_module2.default);\n\nToolbar.DEFAULTS = {};\n\nfunction addButton(container, format, value) {\n  var input = document.createElement('button');\n  input.setAttribute('type', 'button');\n  input.classList.add('ql-' + format);\n  if (value != null) {\n    input.value = value;\n  }\n  container.appendChild(input);\n}\n\nfunction addControls(container, groups) {\n  if (!Array.isArray(groups[0])) {\n    groups = [groups];\n  }\n  groups.forEach(function (controls) {\n    var group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach(function (control) {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        var format = Object.keys(control)[0];\n        var value = control[format];\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(container, format, values) {\n  var input = document.createElement('select');\n  input.classList.add('ql-' + format);\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value !== false) {\n      option.setAttribute('value', value);\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\nToolbar.DEFAULTS = {\n  container: null,\n  handlers: {\n    clean: function clean() {\n      var _this3 = this;\n\n      var range = this.quill.getSelection();\n      if (range == null) return;\n      if (range.length == 0) {\n        var formats = this.quill.getFormat();\n        Object.keys(formats).forEach(function (name) {\n          // Clean functionality in existing apps only clean inline formats\n          if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\n            _this3.quill.format(name, false);\n          }\n        });\n      } else {\n        this.quill.removeFormat(range, _quill2.default.sources.USER);\n      }\n    },\n    direction: function direction(value) {\n      var align = this.quill.getFormat()['align'];\n      if (value === 'rtl' && align == null) {\n        this.quill.format('align', 'right', _quill2.default.sources.USER);\n      } else if (!value && align === 'right') {\n        this.quill.format('align', false, _quill2.default.sources.USER);\n      }\n      this.quill.format('direction', value, _quill2.default.sources.USER);\n    },\n    indent: function indent(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      var indent = parseInt(formats.indent || 0);\n      if (value === '+1' || value === '-1') {\n        var modifier = value === '+1' ? 1 : -1;\n        if (formats.direction === 'rtl') modifier *= -1;\n        this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\n      }\n    },\n    link: function link(value) {\n      if (value === true) {\n        value = prompt('Enter link URL:');\n      }\n      this.quill.format('link', value, _quill2.default.sources.USER);\n    },\n    list: function list(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      if (value === 'check') {\n        if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        } else {\n          this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\n        }\n      } else {\n        this.quill.format('list', value, _quill2.default.sources.USER);\n      }\n    }\n  }\n};\n\nexports.default = Toolbar;\nexports.addControls = addControls;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorPicker = function (_Picker) {\n  _inherits(ColorPicker, _Picker);\n\n  function ColorPicker(select, label) {\n    _classCallCheck(this, ColorPicker);\n\n    var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\n\n    _this.label.innerHTML = label;\n    _this.container.classList.add('ql-color-picker');\n    [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\n      item.classList.add('ql-primary');\n    });\n    return _this;\n  }\n\n  _createClass(ColorPicker, [{\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\n      item.style.backgroundColor = option.getAttribute('value') || '';\n      return item;\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      var colorLabel = this.label.querySelector('.ql-color-label');\n      var value = item ? item.getAttribute('data-value') || '' : '';\n      if (colorLabel) {\n        if (colorLabel.tagName === 'line') {\n          colorLabel.style.stroke = value;\n        } else {\n          colorLabel.style.fill = value;\n        }\n      }\n    }\n  }]);\n\n  return ColorPicker;\n}(_picker2.default);\n\nexports.default = ColorPicker;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IconPicker = function (_Picker) {\n  _inherits(IconPicker, _Picker);\n\n  function IconPicker(select, icons) {\n    _classCallCheck(this, IconPicker);\n\n    var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\n\n    _this.container.classList.add('ql-icon-picker');\n    [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\n    });\n    _this.defaultItem = _this.container.querySelector('.ql-selected');\n    _this.selectItem(_this.defaultItem);\n    return _this;\n  }\n\n  _createClass(IconPicker, [{\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      item = item || this.defaultItem;\n      this.label.innerHTML = item.innerHTML;\n    }\n  }]);\n\n  return IconPicker;\n}(_picker2.default);\n\nexports.default = IconPicker;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Tooltip = function () {\n  function Tooltip(quill, boundsContainer) {\n    var _this = this;\n\n    _classCallCheck(this, Tooltip);\n\n    this.quill = quill;\n    this.boundsContainer = boundsContainer || document.body;\n    this.root = quill.addContainer('ql-tooltip');\n    this.root.innerHTML = this.constructor.TEMPLATE;\n    if (this.quill.root === this.quill.scrollingContainer) {\n      this.quill.root.addEventListener('scroll', function () {\n        _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\n      });\n    }\n    this.hide();\n  }\n\n  _createClass(Tooltip, [{\n    key: 'hide',\n    value: function hide() {\n      this.root.classList.add('ql-hidden');\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;\n      // root.scrollTop should be 0 if scrollContainer !== root\n      var top = reference.bottom + this.quill.root.scrollTop;\n      this.root.style.left = left + 'px';\n      this.root.style.top = top + 'px';\n      this.root.classList.remove('ql-flip');\n      var containerBounds = this.boundsContainer.getBoundingClientRect();\n      var rootBounds = this.root.getBoundingClientRect();\n      var shift = 0;\n      if (rootBounds.right > containerBounds.right) {\n        shift = containerBounds.right - rootBounds.right;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.left < containerBounds.left) {\n        shift = containerBounds.left - rootBounds.left;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.bottom > containerBounds.bottom) {\n        var height = rootBounds.bottom - rootBounds.top;\n        var verticalShift = reference.bottom - reference.top + height;\n        this.root.style.top = top - verticalShift + 'px';\n        this.root.classList.add('ql-flip');\n      }\n      return shift;\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this.root.classList.remove('ql-editing');\n      this.root.classList.remove('ql-hidden');\n    }\n  }]);\n\n  return Tooltip;\n}();\n\nexports.default = Tooltip;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [[{ header: ['1', '2', '3', false] }], ['bold', 'italic', 'underline', 'link'], [{ list: 'ordered' }, { list: 'bullet' }], ['clean']];\n\nvar SnowTheme = function (_BaseTheme) {\n  _inherits(SnowTheme, _BaseTheme);\n\n  function SnowTheme(quill, options) {\n    _classCallCheck(this, SnowTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-snow');\n    return _this;\n  }\n\n  _createClass(SnowTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      toolbar.container.classList.add('ql-snow');\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n      this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n      if (toolbar.container.querySelector('.ql-link')) {\n        this.quill.keyboard.addBinding({ key: 'K', shortKey: true }, function (range, context) {\n          toolbar.handlers['link'].call(toolbar, !context.format.link);\n        });\n      }\n    }\n  }]);\n\n  return SnowTheme;\n}(_base2.default);\n\nSnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (value) {\n            var range = this.quill.getSelection();\n            if (range == null || range.length == 0) return;\n            var preview = this.quill.getText(range);\n            if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\n              preview = 'mailto:' + preview;\n            }\n            var tooltip = this.quill.theme.tooltip;\n            tooltip.edit('link', preview);\n          } else {\n            this.quill.format('link', false);\n          }\n        }\n      }\n    }\n  }\n});\n\nvar SnowTooltip = function (_BaseTooltip) {\n  _inherits(SnowTooltip, _BaseTooltip);\n\n  function SnowTooltip(quill, bounds) {\n    _classCallCheck(this, SnowTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\n\n    _this2.preview = _this2.root.querySelector('a.ql-preview');\n    return _this2;\n  }\n\n  _createClass(SnowTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\n        if (_this3.root.classList.contains('ql-editing')) {\n          _this3.save();\n        } else {\n          _this3.edit('link', _this3.preview.textContent);\n        }\n        event.preventDefault();\n      });\n      this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\n        if (_this3.linkRange != null) {\n          var range = _this3.linkRange;\n          _this3.restoreFocus();\n          _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\n          delete _this3.linkRange;\n        }\n        event.preventDefault();\n        _this3.hide();\n      });\n      this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\n        if (range == null) return;\n        if (range.length === 0 && source === _emitter2.default.sources.USER) {\n          var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\n              _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n              link = _quill$scroll$descend2[0],\n              offset = _quill$scroll$descend2[1];\n\n          if (link != null) {\n            _this3.linkRange = new _selection.Range(range.index - offset, link.length());\n            var preview = _link2.default.formats(link.domNode);\n            _this3.preview.textContent = preview;\n            _this3.preview.setAttribute('href', preview);\n            _this3.show();\n            _this3.position(_this3.quill.getBounds(_this3.linkRange));\n            return;\n          }\n        } else {\n          delete _this3.linkRange;\n        }\n        _this3.hide();\n      });\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\n      this.root.removeAttribute('data-mode');\n    }\n  }]);\n\n  return SnowTooltip;\n}(_base.BaseTooltip);\n\nSnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\n\nexports.default = SnowTheme;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _core = __webpack_require__(29);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _align = __webpack_require__(36);\n\nvar _direction = __webpack_require__(38);\n\nvar _indent = __webpack_require__(64);\n\nvar _blockquote = __webpack_require__(65);\n\nvar _blockquote2 = _interopRequireDefault(_blockquote);\n\nvar _header = __webpack_require__(66);\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _list = __webpack_require__(67);\n\nvar _list2 = _interopRequireDefault(_list);\n\nvar _background = __webpack_require__(37);\n\nvar _color = __webpack_require__(26);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nvar _italic = __webpack_require__(68);\n\nvar _italic2 = _interopRequireDefault(_italic);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _script = __webpack_require__(69);\n\nvar _script2 = _interopRequireDefault(_script);\n\nvar _strike = __webpack_require__(70);\n\nvar _strike2 = _interopRequireDefault(_strike);\n\nvar _underline = __webpack_require__(71);\n\nvar _underline2 = _interopRequireDefault(_underline);\n\nvar _image = __webpack_require__(72);\n\nvar _image2 = _interopRequireDefault(_image);\n\nvar _video = __webpack_require__(73);\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _formula = __webpack_require__(74);\n\nvar _formula2 = _interopRequireDefault(_formula);\n\nvar _syntax = __webpack_require__(75);\n\nvar _syntax2 = _interopRequireDefault(_syntax);\n\nvar _toolbar = __webpack_require__(57);\n\nvar _toolbar2 = _interopRequireDefault(_toolbar);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _bubble = __webpack_require__(108);\n\nvar _bubble2 = _interopRequireDefault(_bubble);\n\nvar _snow = __webpack_require__(62);\n\nvar _snow2 = _interopRequireDefault(_snow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_core2.default.register({\n  'attributors/attribute/direction': _direction.DirectionAttribute,\n\n  'attributors/class/align': _align.AlignClass,\n  'attributors/class/background': _background.BackgroundClass,\n  'attributors/class/color': _color.ColorClass,\n  'attributors/class/direction': _direction.DirectionClass,\n  'attributors/class/font': _font.FontClass,\n  'attributors/class/size': _size.SizeClass,\n\n  'attributors/style/align': _align.AlignStyle,\n  'attributors/style/background': _background.BackgroundStyle,\n  'attributors/style/color': _color.ColorStyle,\n  'attributors/style/direction': _direction.DirectionStyle,\n  'attributors/style/font': _font.FontStyle,\n  'attributors/style/size': _size.SizeStyle\n}, true);\n\n_core2.default.register({\n  'formats/align': _align.AlignClass,\n  'formats/direction': _direction.DirectionClass,\n  'formats/indent': _indent.IndentClass,\n\n  'formats/background': _background.BackgroundStyle,\n  'formats/color': _color.ColorStyle,\n  'formats/font': _font.FontClass,\n  'formats/size': _size.SizeClass,\n\n  'formats/blockquote': _blockquote2.default,\n  'formats/code-block': _code2.default,\n  'formats/header': _header2.default,\n  'formats/list': _list2.default,\n\n  'formats/bold': _bold2.default,\n  'formats/code': _code.Code,\n  'formats/italic': _italic2.default,\n  'formats/link': _link2.default,\n  'formats/script': _script2.default,\n  'formats/strike': _strike2.default,\n  'formats/underline': _underline2.default,\n\n  'formats/image': _image2.default,\n  'formats/video': _video2.default,\n\n  'formats/list/item': _list.ListItem,\n\n  'modules/formula': _formula2.default,\n  'modules/syntax': _syntax2.default,\n  'modules/toolbar': _toolbar2.default,\n\n  'themes/bubble': _bubble2.default,\n  'themes/snow': _snow2.default,\n\n  'ui/icons': _icons2.default,\n  'ui/picker': _picker2.default,\n  'ui/icon-picker': _iconPicker2.default,\n  'ui/color-picker': _colorPicker2.default,\n  'ui/tooltip': _tooltip2.default\n}, true);\n\nexports.default = _core2.default;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IndentClass = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IdentAttributor = function (_Parchment$Attributor) {\n  _inherits(IdentAttributor, _Parchment$Attributor);\n\n  function IdentAttributor() {\n    _classCallCheck(this, IdentAttributor);\n\n    return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\n  }\n\n  _createClass(IdentAttributor, [{\n    key: 'add',\n    value: function add(node, value) {\n      if (value === '+1' || value === '-1') {\n        var indent = this.value(node) || 0;\n        value = value === '+1' ? indent + 1 : indent - 1;\n      }\n      if (value === 0) {\n        this.remove(node);\n        return true;\n      } else {\n        return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\n      }\n    }\n  }, {\n    key: 'canAdd',\n    value: function canAdd(node, value) {\n      return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\n    }\n  }, {\n    key: 'value',\n    value: function value(node) {\n      return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\n    }\n  }]);\n\n  return IdentAttributor;\n}(_parchment2.default.Attributor.Class);\n\nvar IndentClass = new IdentAttributor('indent', 'ql-indent', {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n});\n\nexports.IndentClass = IndentClass;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Blockquote = function (_Block) {\n  _inherits(Blockquote, _Block);\n\n  function Blockquote() {\n    _classCallCheck(this, Blockquote);\n\n    return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\n  }\n\n  return Blockquote;\n}(_block2.default);\n\nBlockquote.blotName = 'blockquote';\nBlockquote.tagName = 'blockquote';\n\nexports.default = Blockquote;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Header = function (_Block) {\n  _inherits(Header, _Block);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n  }\n\n  _createClass(Header, null, [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return this.tagName.indexOf(domNode.tagName) + 1;\n    }\n  }]);\n\n  return Header;\n}(_block2.default);\n\nHeader.blotName = 'header';\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\nexports.default = Header;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ListItem = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ListItem = function (_Block) {\n  _inherits(ListItem, _Block);\n\n  function ListItem() {\n    _classCallCheck(this, ListItem);\n\n    return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\n  }\n\n  _createClass(ListItem, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name === List.blotName && !value) {\n        this.replaceWith(_parchment2.default.create(this.statics.scope));\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      if (this.prev == null && this.next == null) {\n        this.parent.remove();\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\n      }\n    }\n  }, {\n    key: 'replaceWith',\n    value: function replaceWith(name, value) {\n      this.parent.isolate(this.offset(this.parent), this.length());\n      if (name === this.parent.statics.blotName) {\n        this.parent.replaceWith(name, value);\n        return this;\n      } else {\n        this.parent.unwrap();\n        return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\n    }\n  }]);\n\n  return ListItem;\n}(_block2.default);\n\nListItem.blotName = 'list-item';\nListItem.tagName = 'LI';\n\nvar List = function (_Container) {\n  _inherits(List, _Container);\n\n  _createClass(List, null, [{\n    key: 'create',\n    value: function create(value) {\n      var tagName = value === 'ordered' ? 'OL' : 'UL';\n      var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\n      if (value === 'checked' || value === 'unchecked') {\n        node.setAttribute('data-checked', value === 'checked');\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'OL') return 'ordered';\n      if (domNode.tagName === 'UL') {\n        if (domNode.hasAttribute('data-checked')) {\n          return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\n        } else {\n          return 'bullet';\n        }\n      }\n      return undefined;\n    }\n  }]);\n\n  function List(domNode) {\n    _classCallCheck(this, List);\n\n    var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\n\n    var listEventHandler = function listEventHandler(e) {\n      if (e.target.parentNode !== domNode) return;\n      var format = _this2.statics.formats(domNode);\n      var blot = _parchment2.default.find(e.target);\n      if (format === 'checked') {\n        blot.format('list', 'unchecked');\n      } else if (format === 'unchecked') {\n        blot.format('list', 'checked');\n      }\n    };\n\n    domNode.addEventListener('touchstart', listEventHandler);\n    domNode.addEventListener('mousedown', listEventHandler);\n    return _this2;\n  }\n\n  _createClass(List, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (this.children.length > 0) {\n        this.children.tail.format(name, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      // We don't inherit from FormatBlot\n      return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot instanceof ListItem) {\n        _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\n      } else {\n        var index = ref == null ? this.length() : ref.offset(this);\n        var after = this.split(index);\n        after.parent.insertBefore(blot, after);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      if (target.statics.blotName !== this.statics.blotName) {\n        var item = _parchment2.default.create(this.statics.defaultChild);\n        target.moveChildren(item);\n        this.appendChild(item);\n      }\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\n    }\n  }]);\n\n  return List;\n}(_container2.default);\n\nList.blotName = 'list';\nList.scope = _parchment2.default.Scope.BLOCK_BLOT;\nList.tagName = ['OL', 'UL'];\nList.defaultChild = 'list-item';\nList.allowedChildren = [ListItem];\n\nexports.ListItem = ListItem;\nexports.default = List;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Italic = function (_Bold) {\n  _inherits(Italic, _Bold);\n\n  function Italic() {\n    _classCallCheck(this, Italic);\n\n    return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\n  }\n\n  return Italic;\n}(_bold2.default);\n\nItalic.blotName = 'italic';\nItalic.tagName = ['EM', 'I'];\n\nexports.default = Italic;\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Script = function (_Inline) {\n  _inherits(Script, _Inline);\n\n  function Script() {\n    _classCallCheck(this, Script);\n\n    return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\n  }\n\n  _createClass(Script, null, [{\n    key: 'create',\n    value: function create(value) {\n      if (value === 'super') {\n        return document.createElement('sup');\n      } else if (value === 'sub') {\n        return document.createElement('sub');\n      } else {\n        return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'SUB') return 'sub';\n      if (domNode.tagName === 'SUP') return 'super';\n      return undefined;\n    }\n  }]);\n\n  return Script;\n}(_inline2.default);\n\nScript.blotName = 'script';\nScript.tagName = ['SUB', 'SUP'];\n\nexports.default = Script;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Strike = function (_Inline) {\n  _inherits(Strike, _Inline);\n\n  function Strike() {\n    _classCallCheck(this, Strike);\n\n    return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\n  }\n\n  return Strike;\n}(_inline2.default);\n\nStrike.blotName = 'strike';\nStrike.tagName = 'S';\n\nexports.default = Strike;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Underline = function (_Inline) {\n  _inherits(Underline, _Inline);\n\n  function Underline() {\n    _classCallCheck(this, Underline);\n\n    return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\n  }\n\n  return Underline;\n}(_inline2.default);\n\nUnderline.blotName = 'underline';\nUnderline.tagName = 'U';\n\nexports.default = Underline;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _link = __webpack_require__(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['alt', 'height', 'width'];\n\nvar Image = function (_Parchment$Embed) {\n  _inherits(Image, _Parchment$Embed);\n\n  function Image() {\n    _classCallCheck(this, Image);\n\n    return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n  }\n\n  _createClass(Image, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        node.setAttribute('src', this.sanitize(value));\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'match',\n    value: function match(url) {\n      return (/\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url)\n      );\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Image;\n}(_parchment2.default.Embed);\n\nImage.blotName = 'image';\nImage.tagName = 'IMG';\n\nexports.default = Image;\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _block = __webpack_require__(4);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['height', 'width'];\n\nvar Video = function (_BlockEmbed) {\n  _inherits(Video, _BlockEmbed);\n\n  function Video() {\n    _classCallCheck(this, Video);\n\n    return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n  }\n\n  _createClass(Video, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\n      node.setAttribute('frameborder', '0');\n      node.setAttribute('allowfullscreen', true);\n      node.setAttribute('src', this.sanitize(value));\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _link2.default.sanitize(url);\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Video;\n}(_block.BlockEmbed);\n\nVideo.blotName = 'video';\nVideo.className = 'ql-video';\nVideo.tagName = 'IFRAME';\n\nexports.default = Video;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.FormulaBlot = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormulaBlot = function (_Embed) {\n  _inherits(FormulaBlot, _Embed);\n\n  function FormulaBlot() {\n    _classCallCheck(this, FormulaBlot);\n\n    return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\n  }\n\n  _createClass(FormulaBlot, null, [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        window.katex.render(value, node, {\n          throwOnError: false,\n          errorColor: '#f00'\n        });\n        node.setAttribute('data-value', value);\n      }\n      return node;\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('data-value');\n    }\n  }]);\n\n  return FormulaBlot;\n}(_embed2.default);\n\nFormulaBlot.blotName = 'formula';\nFormulaBlot.className = 'ql-formula';\nFormulaBlot.tagName = 'SPAN';\n\nvar Formula = function (_Module) {\n  _inherits(Formula, _Module);\n\n  _createClass(Formula, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(FormulaBlot, true);\n    }\n  }]);\n\n  function Formula() {\n    _classCallCheck(this, Formula);\n\n    var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\n\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n    return _this2;\n  }\n\n  return Formula;\n}(_module2.default);\n\nexports.FormulaBlot = FormulaBlot;\nexports.default = Formula;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.CodeToken = exports.CodeBlock = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SyntaxCodeBlock = function (_CodeBlock) {\n  _inherits(SyntaxCodeBlock, _CodeBlock);\n\n  function SyntaxCodeBlock() {\n    _classCallCheck(this, SyntaxCodeBlock);\n\n    return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(SyntaxCodeBlock, [{\n    key: 'replaceWith',\n    value: function replaceWith(block) {\n      this.domNode.textContent = this.domNode.textContent;\n      this.attach();\n      _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\n    }\n  }, {\n    key: 'highlight',\n    value: function highlight(_highlight) {\n      var text = this.domNode.textContent;\n      if (this.cachedText !== text) {\n        if (text.trim().length > 0 || this.cachedText == null) {\n          this.domNode.innerHTML = _highlight(text);\n          this.domNode.normalize();\n          this.attach();\n        }\n        this.cachedText = text;\n      }\n    }\n  }]);\n\n  return SyntaxCodeBlock;\n}(_code2.default);\n\nSyntaxCodeBlock.className = 'ql-syntax';\n\nvar CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nvar Syntax = function (_Module) {\n  _inherits(Syntax, _Module);\n\n  _createClass(Syntax, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(CodeToken, true);\n      _quill2.default.register(SyntaxCodeBlock, true);\n    }\n  }]);\n\n  function Syntax(quill, options) {\n    _classCallCheck(this, Syntax);\n\n    var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\n\n    if (typeof _this2.options.highlight !== 'function') {\n      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\n    }\n    var timer = null;\n    _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        _this2.highlight();\n        timer = null;\n      }, _this2.options.interval);\n    });\n    _this2.highlight();\n    return _this2;\n  }\n\n  _createClass(Syntax, [{\n    key: 'highlight',\n    value: function highlight() {\n      var _this3 = this;\n\n      if (this.quill.selection.composing) return;\n      this.quill.update(_quill2.default.sources.USER);\n      var range = this.quill.getSelection();\n      this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\n        code.highlight(_this3.options.highlight);\n      });\n      this.quill.update(_quill2.default.sources.SILENT);\n      if (range != null) {\n        this.quill.setSelection(range, _quill2.default.sources.SILENT);\n      }\n    }\n  }]);\n\n  return Syntax;\n}(_module2.default);\n\nSyntax.DEFAULTS = {\n  highlight: function () {\n    if (window.hljs == null) return null;\n    return function (text) {\n      var result = window.hljs.highlightAuto(text);\n      return result.value;\n    };\n  }(),\n  interval: 1000\n};\n\nexports.CodeBlock = SyntaxCodeBlock;\nexports.CodeToken = CodeToken;\nexports.default = Syntax;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BubbleTooltip = undefined;\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{ header: 1 }, { header: 2 }, 'blockquote']];\n\nvar BubbleTheme = function (_BaseTheme) {\n  _inherits(BubbleTheme, _BaseTheme);\n\n  function BubbleTheme(quill, options) {\n    _classCallCheck(this, BubbleTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-bubble');\n    return _this;\n  }\n\n  _createClass(BubbleTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n      this.tooltip.root.appendChild(toolbar.container);\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n    }\n  }]);\n\n  return BubbleTheme;\n}(_base2.default);\n\nBubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (!value) {\n            this.quill.format('link', false);\n          } else {\n            this.quill.theme.tooltip.edit();\n          }\n        }\n      }\n    }\n  }\n});\n\nvar BubbleTooltip = function (_BaseTooltip) {\n  _inherits(BubbleTooltip, _BaseTooltip);\n\n  function BubbleTooltip(quill, bounds) {\n    _classCallCheck(this, BubbleTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\n\n    _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\n      if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\n      if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\n        _this2.show();\n        // Lock our width so we will expand beyond our offsetParent boundaries\n        _this2.root.style.left = '0px';\n        _this2.root.style.width = '';\n        _this2.root.style.width = _this2.root.offsetWidth + 'px';\n        var lines = _this2.quill.getLines(range.index, range.length);\n        if (lines.length === 1) {\n          _this2.position(_this2.quill.getBounds(range));\n        } else {\n          var lastLine = lines[lines.length - 1];\n          var index = _this2.quill.getIndex(lastLine);\n          var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\n          var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\n          _this2.position(_bounds);\n        }\n      } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\n        _this2.hide();\n      }\n    });\n    return _this2;\n  }\n\n  _createClass(BubbleTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('.ql-close').addEventListener('click', function () {\n        _this3.root.classList.remove('ql-editing');\n      });\n      this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\n        // Let selection be restored by toolbar handlers before repositioning\n        setTimeout(function () {\n          if (_this3.root.classList.contains('ql-hidden')) return;\n          var range = _this3.quill.getSelection();\n          if (range != null) {\n            _this3.position(_this3.quill.getBounds(range));\n          }\n        }, 1);\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.show();\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\n      var arrow = this.root.querySelector('.ql-tooltip-arrow');\n      arrow.style.marginLeft = '';\n      if (shift === 0) return shift;\n      arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\n    }\n  }]);\n\n  return BubbleTooltip;\n}(_base.BaseTooltip);\n\nBubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\n\nexports.BubbleTooltip = BubbleTooltip;\nexports.default = BubbleTheme;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(63);\n\n\n/***/ })\n/******/ ])[\"default\"];\n});"]}