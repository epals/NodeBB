{"version":3,"sources":["public/src/admin/advanced/cache.js"],"names":["define","Cache","init","require","Settings","prepare","$","on","name","this","attr","socket","emit","err","app","alertError","message","ajaxify","refresh","input","find","flag","is","enabled"],"mappings":"AAAA,aAEAA,OAAO,uBAAwB,WAC9B,IAAIC,KACJA,EAAMC,KAAO,WACZC,SAAS,kBAAmB,SAAUC,GACrCA,EAASC,YAGVC,EAAE,UAAUC,GAAG,QAAS,WACvB,IAAIC,EAAOF,EAAEG,MAAMC,KAAK,aACxBC,OAAOC,KAAK,qBAAuBJ,KAAMA,GAAQ,SAAUK,GAC1D,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,EAAIG,SAE3BC,QAAQC,cAIVZ,EAAE,aAAaC,GAAG,SAAU,WAC3B,IAAIY,EAAQb,EAAEG,MAAMW,KAAK,SACzB,IAAIC,EAAOF,EAAMG,GAAG,YACpB,IAAId,EAAOF,EAAEG,MAAMC,KAAK,aACxBC,OAAOC,KAAK,sBAAwBJ,KAAMA,EAAMe,QAASF,GAAQ,SAAUR,GAC1E,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,EAAIG,eAK9B,OAAOf","file":"public/src/admin/advanced/cache.js","sourcesContent":["'use strict';\n\ndefine('admin/advanced/cache', function () {\n\tvar Cache = {};\n\tCache.init = function () {\n\t\trequire(['admin/settings'], function (Settings) {\n\t\t\tSettings.prepare();\n\t\t});\n\n\t\t$('.clear').on('click', function () {\n\t\t\tvar name = $(this).attr('data-name');\n\t\t\tsocket.emit('admin.cache.clear', { name: name }, function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn app.alertError(err.message);\n\t\t\t\t}\n\t\t\t\tajaxify.refresh();\n\t\t\t});\n\t\t});\n\n\t\t$('.checkbox').on('change', function () {\n\t\t\tvar input = $(this).find('input');\n\t\t\tvar flag = input.is(':checked');\n\t\t\tvar name = $(this).attr('data-name');\n\t\t\tsocket.emit('admin.cache.toggle', { name: name, enabled: flag }, function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn app.alertError(err.message);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\treturn Cache;\n});\n"]}